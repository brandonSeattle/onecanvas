{"version":3,"file":"index.esm.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../util/useJsCanvas.js","../src/components/Layer.js","../src/media/Media.js","../src/media/index.js","../src/components/AudioLayer.js","../src/components/ImageLayer.js","../src/components/SplitDownLayer.js","../src/components/SplitOutLayer.js","../src/components/SplitInLayer.js","../src/components/SplitSlideInLayer.js","../src/components/TextLayer.js","../util/useWindowDimensions.js","../src/Canvas/Canvas.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import { createContext } from 'react';\n\nconst JsCanvasContext = createContext(null);\n\nexport { JsCanvasContext };\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst Layer = ({\n\tchildren,\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t}, [name, keyframes, iteration]);\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nLayer.defaultProps = {\n\tname: 'animation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\tchildren: <div />,\n\titeration: 'infinite',\n};\n\nLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\tchildren: PropTypes.any,\n\titeration: PropTypes.any,\n};\n\nexport { Layer };\n","import Scene from 'scenejs';\nimport { isString } from '@daybrush/utils';\n\nexport default class Media extends Scene {\n\tconstructor(url) {\n\t\tsuper();\n\t\tthis.isPlayMedia = true;\n\t\tthis.init(url);\n\t}\n\tgetMediaItem() {\n\t\treturn this.mediaItem;\n\t}\n\tgetVolume() {\n\t\treturn this.mediaItem.get(0, 'volume');\n\t}\n\tsetVolume(volume) {\n\t\tthis.mediaItem.set(0, 'volume', volume);\n\t\treturn this;\n\t}\n\tsetPlaySpeed(playSpeed) {\n\t\tthis.mediaItem.setPlaySpeed(playSpeed);\n\t\treturn this;\n\t}\n\tseek(fromTime, toTime) {\n\t\tconst mediaItem = this.mediaItem;\n\t\tmediaItem.set(0, 'seek', fromTime);\n\t\tmediaItem.set('100%', 'seek', toTime);\n\t\tmediaItem.setDuration(toTime - fromTime);\n\t\treturn this;\n\t}\n\tsetElement(element) {\n\t\tthis.mediaItem.setElement(element);\n\t\treturn this;\n\t}\n\tgetMediaElement() {\n\t\treturn this.mediaItem.getElements()[0];\n\t}\n\tgetInfo() {\n\t\tconst mediaItem = this.mediaItem;\n\t\tconst seek = [mediaItem.get(0, 'seek'), mediaItem.get('100%', 'seek')];\n\t\tconst playSpeed = mediaItem.getPlaySpeed();\n\t\tconst volume = this.getVolume();\n\t\tconst delay = this.getDelay();\n\t\tconst info = {\n\t\t\turl: this.url,\n\t\t\tseek,\n\t\t\tplaySpeed,\n\t\t\tdelay,\n\t\t\tvolume,\n\t\t};\n\t\treturn info;\n\t}\n\tinit(url) {\n\t\tconst mediaItem = this.newItem('media');\n\t\tmediaItem.newFrame(0);\n\t\tmediaItem.newFrame(1);\n\t\tmediaItem.set(0, 'volume', 1);\n\t\tmediaItem.set(0, 'seek', 0);\n\t\tmediaItem.set('100%', 'seek', 0);\n\t\tthis.mediaItem = mediaItem;\n\t\tif (isString(url)) {\n\t\t\tconst audio = new Audio();\n\t\t\taudio.src = url;\n\t\t\tthis.setElement(audio);\n\t\t\tthis.url = url;\n\t\t} else {\n\t\t\tif (url.src) {\n\t\t\t\tthis.url = url.src;\n\t\t\t} else {\n\t\t\t\tconst sourceElement = url.querySelector('[src]');\n\t\t\t\tthis.url = sourceElement ? sourceElement.src : '';\n\t\t\t}\n\t\t\tthis.setElement(url);\n\t\t}\n\t\tlet prevTime = 0;\n\t\tthis.on('paused', (e) => {\n\t\t\tvar _a;\n\t\t\tthis.isPlayMedia = false;\n\t\t\t(_a = this.getMediaElement()) === null || _a === void 0\n\t\t\t\t? void 0\n\t\t\t\t: _a.pause();\n\t\t});\n\t\tthis.on('animate', (e) => {\n\t\t\tconst mediaElement = this.getMediaElement();\n\t\t\tmediaElement.muted = false;\n\t\t\tconst time = e.time;\n\t\t\tconst isReversTime = prevTime > time;\n\t\t\tconst isRunning = this.getPlayState() === 'running';\n\t\t\tconst isReverse = this.getDirection().indexOf('reverse') > -1;\n\t\t\tconst isPlayMedia = this.isPlayMedia;\n\t\t\tconst frame = e.frames.media;\n\t\t\tconst playSpeed = mediaItem.getPlaySpeed();\n\t\t\tconst duration = this.getDuration();\n\t\t\tconst volume = this.getVolume();\n\t\t\tconst seek = frame.get('seek');\n\t\t\tprevTime = time;\n\t\t\tif (!isRunning || !isPlayMedia) {\n\t\t\t\tmediaElement.playbackRate = playSpeed * (isReverse ? -1 : 1);\n\t\t\t\tmediaElement.currentTime = seek;\n\t\t\t}\n\t\t\tif (isReversTime || time <= 0 || duration <= time) {\n\t\t\t\t// end play\n\t\t\t\tif (isRunning) {\n\t\t\t\t\tthis.isPlayMedia = false;\n\t\t\t\t\tmediaElement.pause();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmediaElement.volume = volume;\n\t\t\t\tif (!isPlayMedia && isRunning) {\n\t\t\t\t\tthis.isPlayMedia = true;\n\t\t\t\t\tconst result = mediaElement.play();\n\t\t\t\t\tif (result instanceof Promise) {\n\t\t\t\t\t\tresult.catch(() => {\n\t\t\t\t\t\t\tmediaElement.muted = true;\n\t\t\t\t\t\t\tmediaElement.play();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","import Scene from 'scenejs';\nimport Media from './Media';\nexport default class MediaScene extends Scene {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.playInfos = {};\n\t}\n\t/**\n\t * add video or audio mediaInfo\n\t * @param id\n\t * @param url\n\t */\n\taddMedia(id, url = id) {\n\t\tconst media = new Media(url);\n\t\tthis.setItem(id, media);\n\t\treturn media;\n\t}\n\tgetInfo() {\n\t\tconst info = {\n\t\t\tduration: 0,\n\t\t\tmedias: [],\n\t\t};\n\t\tthis.forEach((media) => {\n\t\t\tinfo.medias.push(media.getInfo());\n\t\t});\n\t\tinfo.duration = this.getDuration();\n\t\treturn info;\n\t}\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport MediaScene from '../media';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst AudioLayer = ({\n\tname,\n\tid,\n\taudio,\n\tvolume,\n\tplaySpeed,\n\tdelay,\n\tseekStart,\n\tseekEnd,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tuseEffect(() => {\n\t\tlet media = new MediaScene();\n\t\tlet theDuration = jsCanvas.getDuration();\n\t\tlet newMedia = media.addMedia(name + id, audio);\n\n\t\tnewMedia.setVolume(volume).setPlaySpeed(playSpeed).setDelay(delay);\n\n\t\tif (seekEnd > 0) {\n\t\t\tnewMedia.seek(seekStart, seekEnd);\n\t\t} else {\n\t\t\tnewMedia.seek(0, theDuration);\n\t\t}\n\t\tjsCanvas.setItem('media', newMedia);\n\t}, [seekStart, seekEnd]);\n\n\treturn <></>;\n};\n\nAudioLayer.defaultProps = {\n\tname: 'audio',\n\tid: 1,\n\taudio:\n\t\t'http://cld3097web.audiovideoweb.com/va90web25003/companions/Foundations%20of%20Rock/5.02.mp3',\n\tvolume: 1,\n\tplaySpeed: 1,\n\tdelay: 0,\n\tseekStart: 0,\n\tseekEnd: 0,\n};\n\nAudioLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.number,\n\tvolume: PropTypes.number,\n\taudio: PropTypes.string,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\tseekStart: PropTypes.number,\n\tseekEnd: PropTypes.number,\n};\n\nexport { AudioLayer };\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst ImageLayer = ({\n\tname,\n\tid,\n\tratio,\n\timg,\n\tkeyframes,\n\tstyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.ImageLayer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\teasing: 'ease-in-out',\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t}, [name, keyframes, iteration]);\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`ImageLayer-${baseName}`}\n\t\t\tclassName={`ImageLayer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\t...style,\n\t\t\t\tbackgroundImage: 'url(' + img + ')',\n\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nImageLayer.defaultProps = {\n\tname: 'imageAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\timg: 'https://assets2.razerzone.com/images/pnx.assets/618c0b65424070a1017a7168ea1b6337/razer-wallpapers-page-hero-mobile.jpg',\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\titeration: 'infinite',\n};\n\nImageLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\timg: PropTypes.string,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\titeration: PropTypes.any,\n};\n\nexport { ImageLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { ImageLayer } from './ImageLayer';\nimport { v4 as uuidv4 } from 'uuid';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst SplitDownLayer = ({\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n\tforeground,\n\tgridX,\n\tgridY,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\tconst [frontlayers, setFrontLayers] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t\tsetFrontLayers(generateSlices(foreground));\n\t}, [name, keyframes, iteration]);\n\n\tconst generateSlices = (img) => {\n\t\tlet theLayers = [];\n\n\t\tfor (let x = 0; x < gridX; x++) {\n\t\t\tfor (let y = 0; y < gridY; y++) {\n\t\t\t\tlet width = ((ratio.width / gridX) * 101) / ratio.width + '%',\n\t\t\t\t\theight = ((ratio.height / gridY) * 100) / ratio.height + '%',\n\t\t\t\t\ttop = ((ratio.height / gridY) * y * 101) / ratio.height + '%',\n\t\t\t\t\tleft = ((ratio.width / gridX) * x * 100) / ratio.width + '%',\n\t\t\t\t\tbgPosX = -((ratio.width / gridX) * x) + 'px',\n\t\t\t\t\tbgPosY = -((ratio.height / gridY) * y) + 'px';\n\n\t\t\t\tconst newId = uuidv4().replaceAll('-', '');\n\t\t\t\ttheLayers.push(\n\t\t\t\t\t<ImageLayer\n\t\t\t\t\t\tkey={newId}\n\t\t\t\t\t\timg={img}\n\t\t\t\t\t\tname={'foreground' + baseName + x + y}\n\t\t\t\t\t\tdelay={delay + x}\n\t\t\t\t\t\tid={x + y}\n\t\t\t\t\t\tkeyframes={{\n\t\t\t\t\t\t\t0: {\n\t\t\t\t\t\t\t\ttransform: `translate(0, -100%)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t0.5: {\n\t\t\t\t\t\t\t\ttransform: `translate(0, 0)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t\titeration={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tbackgroundPosition: bgPosX + ' ' + bgPosY,\n\t\t\t\t\t\t\tbackgroundSize: ratio.width + 'px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tratio={{ width: width, height: height }}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn theLayers;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tid={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{frontlayers}\n\t\t</div>\n\t);\n};\n\nSplitDownLayer.defaultProps = {\n\tname: 'splitAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\titeration: 'infinite',\n\tforeground: '',\n\tgridX: 5,\n\tgridY: 1,\n};\n\nSplitDownLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\titeration: PropTypes.any,\n\tforeground: PropTypes.string,\n\tgridX: PropTypes.number,\n\tgridY: PropTypes.number,\n};\n\nexport { SplitDownLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { ImageLayer } from './ImageLayer';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Layer } from './Layer';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst SplitOutLayer = ({\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tkeyframesImage,\n\tkeyframesText,\n\tstyle,\n\ttextLayerStyle,\n\ttext,\n\tplaySpeed,\n\tdelay,\n\tsplitDelay,\n\titeration,\n\tforeground,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\tconst [frontlayers, setFrontLayers] = useState([]);\n\tconst gridX = 4;\n\tconst gridY = 3;\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t\tsetFrontLayers(generateSlices(foreground));\n\t}, [name, keyframes, iteration]);\n\n\tconst generateSlices = (img) => {\n\t\tlet theLayers = [];\n\n\t\tlet afterTop = 0;\n\t\tlet afterLeft = 0;\n\t\tlet afterWidth = 0;\n\t\tlet afterHeight = 0;\n\n\t\tfor (let x = 0; x < gridX; x++) {\n\t\t\tfor (let y = 0; y < gridY; y++) {\n\t\t\t\tlet width = ((ratio.width / gridX) * 100) / ratio.width + '%',\n\t\t\t\t\theight = ((ratio.height / gridY) * 100) / ratio.height + '%',\n\t\t\t\t\ttop = ((ratio.height / gridY) * y * 100) / ratio.height + '%',\n\t\t\t\t\tleft = ((ratio.width / gridX) * x * 100) / ratio.width + '%',\n\t\t\t\t\tbgPosX = -((ratio.width / gridX) * x) + 'px',\n\t\t\t\t\tbgPosY = -((ratio.height / gridY) * y) + 'px';\n\n\t\t\t\tconst newId = uuidv4().replaceAll('-', '');\n\n\t\t\t\tlet centerTransitions =\n\t\t\t\t\t(x === 1 && y === 1) || (x === 2 && y === 1)\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t2: {\n\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {};\n\n\t\t\t\tif (x === 1 && y === 1) {\n\t\t\t\t\tafterTop = top;\n\t\t\t\t\tafterLeft = left;\n\t\t\t\t\tafterHeight = height;\n\t\t\t\t}\n\t\t\t\tif (x === 2 && y === 1) {\n\t\t\t\t\tafterWidth = parseInt(width) * 2 + '%';\n\t\t\t\t}\n\t\t\t\ttheLayers.push(\n\t\t\t\t\t<ImageLayer\n\t\t\t\t\t\tkey={newId}\n\t\t\t\t\t\timg={img}\n\t\t\t\t\t\tname={'foreground' + baseName + x + y}\n\t\t\t\t\t\tdelay={splitDelay}\n\t\t\t\t\t\tid={x + y}\n\t\t\t\t\t\tkeyframes={{ ...keyframesImage, ...centerTransitions }}\n\t\t\t\t\t\titeration={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tbackgroundPosition: bgPosX + ' ' + bgPosY,\n\t\t\t\t\t\t\tbackgroundSize: `center center`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tratio={{ width: width, height: height }}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst newExtraId = uuidv4().replaceAll('-', '');\n\t\ttheLayers.push(\n\t\t\t<Layer\n\t\t\t\tkey={newExtraId}\n\t\t\t\tratio={ratio}\n\t\t\t\tid={newExtraId}\n\t\t\t\tname={`fade in text`}\n\t\t\t\tdelay={splitDelay * 2}\n\t\t\t\tstyle={{\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\ttop: afterTop,\n\t\t\t\t\tleft: afterLeft,\n\t\t\t\t\twidth: afterWidth,\n\t\t\t\t\theight: afterHeight,\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttransform: `scale(75%)`,\n\t\t\t\t}}\n\t\t\t\tkeyframes={keyframesText}\n\t\t\t\titeration={1}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontSize: 30,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t...textLayerStyle,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t</Layer>\n\t\t);\n\n\t\treturn theLayers;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tid={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{frontlayers}\n\t\t</div>\n\t);\n};\n\nSplitOutLayer.defaultProps = {\n\tname: 'splitOutAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tkeyframesImage: {},\n\tkeyframesText: {},\n\tstyle: {},\n\ttextLayerStyle: {},\n\ttext: 'Hello There .....',\n\tplaySpeed: 1,\n\tdelay: 0,\n\tsplitDelay: 0,\n\titeration: 'infinite',\n\tforeground: '',\n};\n\nSplitOutLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tkeyframesImage: PropTypes.object,\n\tkeyframesText: PropTypes.object,\n\tstyle: PropTypes.object,\n\ttextLayerStyle: PropTypes.object,\n\ttext: PropTypes.string,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tsplitDelay: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\titeration: PropTypes.any,\n\tforeground: PropTypes.string,\n};\n\nexport { SplitOutLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { ImageLayer } from './ImageLayer';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Layer } from './Layer';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst SplitInLayer = ({\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\ttextLayerStyle,\n\ttext,\n\tplaySpeed,\n\tdelay,\n\tsliceDelay,\n\titeration,\n\tforeground,\n\tgridX,\n\tgridY,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\tconst [frontlayers, setFrontLayers] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t\tsetFrontLayers(generateSlices(foreground));\n\t}, [name, keyframes, iteration]);\n\n\tconst generateSlices = (img) => {\n\t\tlet theLayers = [];\n\t\tlet afterTop = 0;\n\t\tlet afterLeft = 0;\n\t\tlet afterWidth = 0;\n\t\tlet afterHeight = 0;\n\n\t\tfor (let x = 0; x < gridX; x++) {\n\t\t\tlet cropRatio = x % 2 === 0 ? 98 : 100;\n\t\t\tfor (let y = 0; y < gridY; y++) {\n\t\t\t\tlet width = ((ratio.width / gridX) * cropRatio) / ratio.width + '%',\n\t\t\t\t\theight = ((ratio.height / gridY) * 95) / ratio.height + '%',\n\t\t\t\t\ttop = ((ratio.height / gridY) * y * 100) / ratio.height + '%',\n\t\t\t\t\tleft = ((ratio.width / gridX) * x * 100) / ratio.width + '%',\n\t\t\t\t\tbgPosX = -((ratio.width / gridX) * x) + 'px',\n\t\t\t\t\tbgPosY = -((ratio.height / gridY) * y) + 'px';\n\n\t\t\t\tconst newId = uuidv4().replaceAll('-', '');\n\n\t\t\t\tlet translate = y % 2 === 0 ? '200%' : '-200%';\n\n\t\t\t\ttheLayers.push(\n\t\t\t\t\t<ImageLayer\n\t\t\t\t\t\tkey={newId}\n\t\t\t\t\t\timg={img}\n\t\t\t\t\t\tname={'foreground' + baseName + x + y}\n\t\t\t\t\t\tdelay={delay * y}\n\t\t\t\t\t\tid={x + y}\n\t\t\t\t\t\tkeyframes={{\n\t\t\t\t\t\t\t0: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\ttransform: `translate(${translate}, 0)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t2: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\ttransform: `translate(0, 0)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t4: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t4.5: {\n\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t\titeration={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tbackgroundPosition: bgPosX + ' ' + bgPosY,\n\t\t\t\t\t\t\tbackgroundSize: ratio.width + 'px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tratio={{ width: width, height: height }}\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\t\tif (gridY - 2 === y) {\n\t\t\t\t\tafterTop = top;\n\t\t\t\t\tafterLeft = left;\n\t\t\t\t\tafterWidth = width;\n\t\t\t\t\tafterHeight = height;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst newExtraId = uuidv4().replaceAll('-', '');\n\t\ttheLayers.push(\n\t\t\t<Layer\n\t\t\t\tkey={newExtraId}\n\t\t\t\tratio={ratio}\n\t\t\t\tid={newExtraId}\n\t\t\t\tname={`fade out text`}\n\t\t\t\tdelay={delay + sliceDelay}\n\t\t\t\tstyle={{\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\ttop: afterTop,\n\t\t\t\t\tleft: afterLeft,\n\t\t\t\t\twidth: afterWidth,\n\t\t\t\t\theight: afterHeight,\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tbackgroundColor: '#000',\n\t\t\t\t}}\n\t\t\t\tkeyframes={{\n\t\t\t\t\t0: {\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\ttransform: 'translate(200%, 0)',\n\t\t\t\t\t},\n\t\t\t\t\t1: {\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\ttransform: 'translate(0, 0)',\n\t\t\t\t\t},\n\t\t\t\t\t2.8: {\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t},\n\t\t\t\t\t3: {\n\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\titeration={1}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\tfontSize: 30,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t...textLayerStyle,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t</Layer>\n\t\t);\n\n\t\treturn theLayers;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tid={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t// backgroundColor: '#000',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{frontlayers}\n\t\t</div>\n\t);\n};\n\nSplitInLayer.defaultProps = {\n\tname: 'splitInAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\ttextLayerStyle: {},\n\ttext: 'Hello There .....',\n\tplaySpeed: 1,\n\tdelay: 0,\n\tsliceDelay: 0,\n\titeration: 'infinite',\n\tforeground: '',\n\tgridX: 5,\n\tgridY: 1,\n};\n\nSplitInLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.number,\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\ttextLayerStyle: PropTypes.object,\n\ttext: PropTypes.string,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\tsliceDelay: PropTypes.number || PropTypes.string,\n\titeration: PropTypes.any,\n\tforeground: PropTypes.string,\n\tgridX: PropTypes.number,\n\tgridY: PropTypes.number,\n};\n\nexport { SplitInLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { ImageLayer } from './ImageLayer';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst SplitSlideInLayer = ({\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n\tforeground,\n\tbackground,\n\tgridX,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\tconst [frontlayers, setFrontLayers] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t\tsetFrontLayers(generateSlices(foreground));\n\t}, [name, keyframes, iteration]);\n\n\tconst generateSlices = (img) => {\n\t\tlet theLayers = [];\n\n\t\tfor (let x = 0; x < gridX; x++) {\n\t\t\tlet width = ((ratio.width / gridX) * 100) / ratio.width + '%',\n\t\t\t\tleft = ((ratio.width / gridX) * x * 100) / ratio.width + '%',\n\t\t\t\tbgPosX = -((ratio.width / gridX) * x) + 'px';\n\n\t\t\ttheLayers.push(\n\t\t\t\t<ImageLayer\n\t\t\t\t\tkey={x}\n\t\t\t\t\timg={img}\n\t\t\t\t\tname={'foreground' + baseName + x}\n\t\t\t\t\tdelay={delay + x}\n\t\t\t\t\tid={x}\n\t\t\t\t\tkeyframes={{\n\t\t\t\t\t\t0: {\n\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\ttransform: `translate(-100%, 0)`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t0.5: {\n\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\ttransform: `translate(0, 0)`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\titeration={1}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\theight: ratio.height,\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: x,\n\t\t\t\t\t\tbackgroundPosition: bgPosX + ' ' + 0,\n\t\t\t\t\t\tbackgroundSize: ratio.width + 'px',\n\t\t\t\t\t}}\n\t\t\t\t\tratio={ratio}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn theLayers;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tid={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{frontlayers}\n\t\t</div>\n\t);\n};\n\nSplitSlideInLayer.defaultProps = {\n\tname: 'splitSlideInAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\titeration: 'infinite',\n\tforeground: '',\n\tgridX: 5,\n};\n\nSplitSlideInLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\titeration: PropTypes.any,\n\tforeground: PropTypes.string,\n\tgridX: PropTypes.number,\n};\n\nexport { SplitSlideInLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst TextLayer = ({\n\ttext,\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\ttextLayerStyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n\ttextColor,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t}, [name, keyframes, iteration]);\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\tpointerEvents: 'auto',\n\t\t\t\tcursor: 'default',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tfontSize: 30,\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t...textLayerStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ color: textColor }}>{text}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nTextLayer.defaultProps = {\n\tname: 'textAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\ttext: 'Hello Text . . .',\n\titeration: 'infinite',\n};\n\nTextLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\ttextLayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\ttext: PropTypes.string,\n\titeration: PropTypes.any,\n\ttextColor: PropTypes.string,\n};\n\nexport { TextLayer };\n","import { useEffect, useState } from 'react';\n\nfunction getWindowDimensions() {\n\tconst { innerWidth: width, innerHeight: height } =\n\t\ttypeof window !== 'undefined' ? window : {};\n\treturn {\n\t\twidth,\n\t\theight,\n\t};\n}\n\nexport default function useWindowDimensions(\n\tcanvasContentRef,\n\tmaxWidth,\n\tmaxHeight\n) {\n\tconst [windowDimensions, setWindowDimensions] = useState(\n\t\tgetWindowDimensions()\n\t);\n\n\tuseEffect(() => {\n\t\tfunction handleResize() {\n\t\t\tlet theRatio = {\n\t\t\t\theight: getWindowDimensions().height / (16 / 9),\n\t\t\t\twidth: getWindowDimensions().width / (16 / 9),\n\t\t\t};\n\n\t\t\ttheRatio.scale = Math.min(\n\t\t\t\ttheRatio.width / maxWidth,\n\t\t\t\ttheRatio.height / maxHeight\n\t\t\t);\n\t\t\tsetWindowDimensions(theRatio);\n\t\t}\n\n\t\thandleResize();\n\n\t\twindow.addEventListener('resize', handleResize);\n\t\treturn () => window.removeEventListener('resize', handleResize);\n\t}, []);\n\n\treturn windowDimensions;\n}\n","import React, {\n\tforwardRef,\n\tuseContext,\n\tuseEffect,\n\tuseImperativeHandle,\n\tuseRef,\n\tuseState,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport './Canvas.css';\nimport Scene from 'scenejs';\nimport useWindowDimensions from '../../util/useWindowDimensions';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst CanvasContainer = forwardRef(\n\t(\n\t\t{\n\t\t\tchildren,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tcontrols,\n\t\t\tplaying,\n\t\t\tfullWidth,\n\t\t\tanimationDuration,\n\t\t\tinline,\n\t\t\tCanvasInnerStyle,\n\t\t\tCompositionStyle,\n\t\t\tplayerWrapperStyle,\n\t\t\tplayerStyle,\n\t\t\tplayerButtonStyle,\n\t\t\tplayerTrackStyle,\n\t\t\tshowTimer,\n\t\t},\n\t\tref\n\t) => {\n\t\tconst jsCanvas = useContext(JsCanvasContext);\n\t\tconst canvasRef = useRef(null);\n\t\tconst [isPlaying, setIsPlaying] = useState(false);\n\t\tconst [progress, setProgress] = useState(0);\n\t\tconst [timer, setTimer] = useState('00:00');\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\tplay() {\n\t\t\t\tjsCanvas.play();\n\t\t\t},\n\t\t\tpause() {\n\t\t\t\tjsCanvas.pause();\n\t\t\t},\n\t\t\tfinish() {\n\t\t\t\tjsCanvas.finish();\n\t\t\t},\n\t\t\tduration() {\n\t\t\t\treturn jsCanvas.getDuration();\n\t\t\t},\n\t\t}));\n\n\t\tconst {\n\t\t\theight: windowHeight,\n\t\t\twidth: windowWidth,\n\t\t\tscale,\n\t\t} = useWindowDimensions(canvasRef, width, height);\n\n\t\tuseEffect(() => {\n\t\t\tlet duration = jsCanvas.getDuration();\n\t\t\tanimationDuration(duration);\n\n\t\t\tjsCanvas.on('play', (e) => {\n\t\t\t\tsetIsPlaying(true);\n\t\t\t});\n\t\t\tjsCanvas.on('paused', (e) => {\n\t\t\t\tsetIsPlaying(false);\n\t\t\t});\n\t\t\tjsCanvas.on('animate', (e) => {\n\t\t\t\tsetProgress((100 * e.time) / duration);\n\t\t\t\ttimeFormat(e.time);\n\t\t\t});\n\t\t\tif (playing) {\n\t\t\t\tplaying({\n\t\t\t\t\tplaying: isPlaying,\n\t\t\t\t\tprogress: progress,\n\t\t\t\t});\n\t\t\t}\n\t\t}, [isPlaying, progress]);\n\n\t\tconst numberFormat = (num, count, isRight) => {\n\t\t\tconst length = `${num}`.length;\n\t\t\tconst arr = [];\n\n\t\t\tif (isRight) {\n\t\t\t\tarr.push(num);\n\t\t\t}\n\t\t\tfor (let i = length; i < count; ++i) {\n\t\t\t\tarr.push(0);\n\t\t\t}\n\t\t\tif (!isRight) {\n\t\t\t\tarr.push(num);\n\t\t\t}\n\t\t\treturn arr.join('');\n\t\t};\n\n\t\tconst timeFormat = (time) => {\n\t\t\tconst minute = numberFormat(Math.floor(time / 60), 2);\n\t\t\tconst second = numberFormat(Math.floor(time % 60), 2);\n\t\t\tconst milisecond = numberFormat(Math.floor((time % 1) * 100), 3, true);\n\n\t\t\tsetTimer(`${minute}:${second}`);\n\t\t};\n\n\t\treturn (\n\t\t\t<div id=\"canvasContainer\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={inline ? '' : 'Canvas'}\n\t\t\t\t\tid=\"recorderCanvas\"\n\t\t\t\t\tref={canvasRef}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"CanvasInner\"\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t...CanvasInnerStyle,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\twidth: windowWidth,\n\t\t\t\t\t\t\t\t\t\theight: windowHeight,\n\t\t\t\t\t\t\t\t\t\t...CanvasInnerStyle,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"Composition\"\n\t\t\t\t\t\t\tclassName=\"Composition\"\n\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t\t\t...CompositionStyle,\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t\t\ttransform: `translate(-50%, -50%) scale(${\n\t\t\t\t\t\t\t\t\t\t\t\tscale ? scale : 1\n\t\t\t\t\t\t\t\t\t\t\t})`,\n\t\t\t\t\t\t\t\t\t\t\t...CompositionStyle,\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"Layers\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{controls && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={inline ? 'playerWrapperInline' : 'playerWrapper'}\n\t\t\t\t\t\tstyle={playerWrapperStyle}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"player\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: windowWidth,\n\t\t\t\t\t\t\t\t...playerStyle,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`${isPlaying ? 'pause' : 'play'}`}\n\t\t\t\t\t\t\t\tstyle={{ ...playerButtonStyle }}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tjsCanvas.isPaused() ? jsCanvas.play() : jsCanvas.pause();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"progress\"\n\t\t\t\t\t\t\t\tstyle={{ ...playerTrackStyle }}\n\t\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tjsCanvas.pause();\n\t\t\t\t\t\t\t\t\tjsCanvas.setTime(e.target.value + '%');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={progress.toString()}\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{showTimer && <span style={{ marginLeft: 10 }}>{timer}</span>}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n);\n\nconst Canvas = forwardRef(\n\t(\n\t\t{\n\t\t\tchildren,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tjsCanva,\n\t\t\tcontrols,\n\t\t\tplaying,\n\t\t\tfullWidth,\n\t\t\tanimationDuration,\n\t\t\tinline,\n\t\t\tCanvasInnerStyle,\n\t\t\tCompositionStyle,\n\t\t\tplayerWrapperStyle,\n\t\t\tplayerStyle,\n\t\t\tplayerButtonStyle,\n\t\t\tplayerTrackStyle,\n\t\t\tshowTimer,\n\t\t},\n\t\tref\n\t) => {\n\t\treturn (\n\t\t\t<JsCanvasContext.Provider\n\t\t\t\tvalue={\n\t\t\t\t\tnew Scene(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teasing: Scene.EASE_IN_OUT,\n\t\t\t\t\t\t\titerationCount: 1,\n\t\t\t\t\t\t\tselector: true,\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<CanvasContainer\n\t\t\t\t\tref={ref}\n\t\t\t\t\theight={height}\n\t\t\t\t\twidth={width}\n\t\t\t\t\tcontrols={controls}\n\t\t\t\t\tplaying={playing}\n\t\t\t\t\tjsCanva={jsCanva}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tanimationDuration={animationDuration}\n\t\t\t\t\tinline={inline}\n\t\t\t\t\tCanvasInnerStyle={CanvasInnerStyle}\n\t\t\t\t\tCompositionStyle={CompositionStyle}\n\t\t\t\t\tplayerWrapperStyle={playerWrapperStyle}\n\t\t\t\t\tplayerStyle={playerStyle}\n\t\t\t\t\tplayerButtonStyle={playerButtonStyle}\n\t\t\t\t\tplayerTrackStyle={playerTrackStyle}\n\t\t\t\t\tshowTimer={showTimer}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</CanvasContainer>\n\t\t\t</JsCanvasContext.Provider>\n\t\t);\n\t}\n);\n\nCanvas.defaultProps = {\n\twidth: 1920,\n\theight: 1080,\n\tchildren: [],\n\tcontrols: true,\n\tplaying: () => {},\n\tfullWidth: false,\n\tanimationDuration: () => {},\n\tinline: false,\n\tshowTimer: false,\n};\n\nCanvas.propTypes = {\n\twidth: PropTypes.number,\n\theight: PropTypes.number,\n\tchildren: PropTypes.any,\n\tcontrols: PropTypes.bool,\n\tplaying: PropTypes.func,\n\tfullWidth: PropTypes.bool,\n\tanimationDuration: PropTypes.func,\n\tinline: PropTypes.bool,\n\tCanvasInnerStyle: PropTypes.object,\n\tCompositionStyle: PropTypes.object,\n\tplayerWrapperStyle: PropTypes.object,\n\tplayerStyle: PropTypes.object,\n\tplayerButtonStyle: PropTypes.object,\n\tplayerTrackStyle: PropTypes.object,\n\tshowTimer: PropTypes.bool,\n};\n\nexport { Canvas };\n"],"names":["css","ref","head","style","insertAt","document","getElementsByTagName","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","JsCanvasContext","createContext","Layer","_ref","children","name","id","ratio","keyframes","playSpeed","delay","iteration","jsCanvas","useContext","baseName","replaceAll","useEffect","newItem","concat","selector","set","_objectSpread","options","React","data-testid","className","position","width","height","left","right","top","bottom","margin","Media","defaultProps","propTypes","PropTypes","string","oneOfType","number","object","layerStyle","any","_inherits","Scene","_super","_createSuper","url","_this","_classCallCheck","call","this","isPlayMedia","init","_createClass","key","value","mediaItem","get","volume","setPlaySpeed","fromTime","toTime","setDuration","element","setElement","getElements","seek","getPlaySpeed","getVolume","getDelay","sourceElement","_this2","prevTime","newFrame","isString","audio","Audio","src","querySelector","on","e","_a","getMediaElement","pause","mediaElement","time","muted","isReversTime","isRunning","getPlayState","isReverse","getDirection","indexOf","frame","frames","media","duration","getDuration","playbackRate","currentTime","result","play","Promise","catch","MediaScene","playInfos","arguments","length","undefined","setItem","info","medias","forEach","push","getInfo","AudioLayer","seekStart","seekEnd","theDuration","newMedia","addMedia","setVolume","setDelay","Fragment","ImageLayer","img","easing","backgroundImage","backgroundRepeat","SplitDownLayer","foreground","gridX","gridY","_useState2","_slicedToArray","useState","frontlayers","setFrontLayers","generateSlices","theLayers","x","y","bgPosX","bgPosY","newId","uuidv4","0","transform","0.5","backgroundPosition","backgroundSize","SplitOutLayer","keyframesImage","keyframesText","textLayerStyle","text","splitDelay","afterTop","afterLeft","afterWidth","afterHeight","centerTransitions","2","opacity","parseInt","newExtraId","fontSize","display","justifyContent","alignItems","SplitInLayer","sliceDelay","cropRatio","4","4.5","backgroundColor","1","2.8","3","color","SplitSlideInLayer","background","zIndex","TextLayer","textColor","pointerEvents","cursor","getWindowDimensions","window","innerWidth","innerHeight","CanvasContainer","forwardRef","numberFormat","num","count","isRight","arr","i","join","maxWidth","maxHeight","setWindowDimensions","controls","playing","fullWidth","animationDuration","inline","CanvasInnerStyle","CompositionStyle","playerWrapperStyle","playerStyle","playerButtonStyle","playerTrackStyle","showTimer","canvasRef","useRef","isPlaying","setIsPlaying","_useState4","progress","setProgress","_useState6","timer","setTimer","_useWindowDimensions","useImperativeHandle","finish","windowDimensions","handleResize","theRatio","scale","Math","min","addEventListener","removeEventListener","windowHeight","windowWidth","timeFormat","minute","floor","second","onClick","isPaused","onChange","setTime","target","toString","max","marginLeft","Canvas","_ref2","jsCanva","Provider","EASE_IN_OUT","iterationCount","bool","func"],"mappings":"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","x_google_ignoreList":[0]}