!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("prop-types"),require("scenejs"),require("@daybrush/utils"),require("uuid")):"function"==typeof define&&define.amd?define(["exports","react","prop-types","scenejs","@daybrush/utils","uuid"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ocanvas={},e.React,e.PropTypes,e.Scene,e.utils,e.uuid)}(this,function(e,L,t,g,n,E){"use strict";function a(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function A(r){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach(function(e){var t,n;t=r,n=i[e=e],(e=y(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function o(e,t,n){t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1})}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(n){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=s(n),t=(e=r?(e=s(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(!e||"object"!=typeof e&&"function"!=typeof e){if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");if(void 0===(e=t))throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return l}}(e,t)||function(e,t){var n;if(e)return"string"==typeof e?d(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e){e=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0===t)return String(e);t=t.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}(e);return"symbol"==typeof e?e:String(e)}function I(e){var t=e.children,n=e.name,r=e.id,i=e.ratio,a=e.keyframes,o=e.style,l=e.playSpeed,s=e.delay,c=e.iteration,u=L.useContext(z),d=n.replaceAll(" ","_")+r;return L.useEffect(function(){u.newItem(".Layer-".concat(d),{selector:!0,delay:s,playSpeed:l}).set(A(A({},a),{},{options:{delay:s,iteration:c,playSpeed:l}}))},[n,a,c]),L.createElement("div",{"data-testid":"Layer-".concat(d),className:"Layer-".concat(d),style:A({position:"absolute",width:i.width,height:i.height,left:0,right:0,top:0,bottom:0,margin:"auto"},o)},t)}function p(e){var n=e.name,r=e.id,i=e.audio,a=e.volume,o=e.playSpeed,l=e.delay,s=e.seekStart,c=e.seekEnd,u=L.useContext(z);return L.useEffect(function(){var e=new M,t=u.getDuration(),e=e.addMedia(n+r,i);e.setVolume(a).setPlaySpeed(o).setDelay(l),0<c?e.seek(s,c):e.seek(0,t),u.setItem("media",e)},[s,c]),L.createElement(L.Fragment,null)}f="\n:root {\n  --background: #fff;\n  --font-color: #494949;\n}\n\n#canvasContainer {\n  min-width: 100%;\n  min-height: 100%;\n  position: relative;\n}\n\n.Canvas {\n  font-size: 14px;\n  margin: auto;\n  flex-shrink: 0;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  height: 100%;\n  width: 100%;\n  background: #ebecf0;\n}\n\n.CanvasInner {\n  grid-area: canvas;\n  position: relative;\n  z-index: 0;\n  padding: 10px;\n}\n\n.Composition {\n  position: relative;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n  -webkit-box-shadow: 0 1px 6px 0 rgb(32 33 36 / 28%);\n  -moz-box-shadow: 0 1px 6px 0 rgb(32 33 36 / 28%);\n  box-shadow: 0 1px 6px 0 rgb(32 33 36 / 28%);\n  overflow: hidden;\n}\n\n.Layers {\n  pointer-events: none;\n}\n\n/*Player*/\n\n.playerWrapper {\n  position: absolute;\n  bottom: 20px;\n  margin: 0;\n  left: 0;\n  right: 0;\n  z-index: 99999999999;\n  display: flex;\n  justify-content: center;\n}\n\n.playerWrapperInline {\n  position: relative;\n  z-index: 99999999999;\n}\n\n.player {\n  position: relative;\n  align-items: center;\n  display: flex;\n}\n\n.circles .circle {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 200px;\n  height: 200px;\n  border: 100px solid black;\n  border-radius: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.player .play, .player .pause, .player .progress {\n  display: inline-block;\n  vertical-align: middle;\n}\n\n.player .play {\n  border-left: 14px solid #333;\n  border-top: 8px solid transparent;\n  border-bottom: 8px solid transparent;\n}\n\n.player .pause {\n  border-left: 4px solid #333;\n  border-right: 4px solid #333;\n  width: 14px;\n  height: 16px;\n  box-sizing: border-box;\n}\n\n.player input[type=range] {\n  flex: auto;\n}\n\n.player input[type=range] {\n  -webkit-appearance: none;\n  background: rgba(0, 0, 0, 0.2);\n  height: 3px;\n  margin-left: 10px;\n}\n\n.player input[type=range]::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  width: 14px;\n  height: 14px;\n  border-radius: 7px;\n  background: #333;\n}\n\n.player input[type=range]:focus {\n  outline: none;\n}\n",C=(C=void 0===C?{}:C).insertAt,"undefined"!=typeof document&&(m=document.head||document.getElementsByTagName("head")[0],(h=document.createElement("style")).type="text/css","top"===C&&m.firstChild?m.insertBefore(h,m.firstChild):m.appendChild(h),h.styleSheet?h.styleSheet.cssText=f:h.appendChild(document.createTextNode(f)));var f,m,h,b,v,z=L.createContext(null),_=(I.defaultProps={name:"animation",id:1,ratio:{width:1080,height:720},keyframes:{},style:{},playSpeed:1,delay:0,children:L.createElement("div",null),iteration:"infinite"},I.propTypes={name:t.string,id:t.oneOfType([t.string,t.number]),ratio:t.object,keyframes:t.object,style:t.object,layerStyle:t.object,playSpeed:t.number,delay:t.number||t.string,children:t.any,iteration:t.any},l(S,g),v=u(S),o(S,[{key:"getMediaItem",value:function(){return this.mediaItem}},{key:"getVolume",value:function(){return this.mediaItem.get(0,"volume")}},{key:"setVolume",value:function(e){return this.mediaItem.set(0,"volume",e),this}},{key:"setPlaySpeed",value:function(e){return this.mediaItem.setPlaySpeed(e),this}},{key:"seek",value:function(e,t){var n=this.mediaItem;return n.set(0,"seek",e),n.set("100%","seek",t),n.setDuration(t-e),this}},{key:"setElement",value:function(e){return this.mediaItem.setElement(e),this}},{key:"getMediaElement",value:function(){return this.mediaItem.getElements()[0]}},{key:"getInfo",value:function(){var e=this.mediaItem,t=[e.get(0,"seek"),e.get("100%","seek")],e=e.getPlaySpeed(),n=this.getVolume(),r=this.getDelay();return{url:this.url,seek:t,playSpeed:e,delay:r,volume:n}}},{key:"init",value:function(e){var t,u=this,d=this.newItem("media"),y=(d.newFrame(0),d.newFrame(1),d.set(0,"volume",1),d.set(0,"seek",0),d.set("100%","seek",0),this.mediaItem=d,n.isString(e)?((t=new Audio).src=e,this.setElement(t),this.url=e):(e.src?this.url=e.src:(t=e.querySelector("[src]"),this.url=t?t.src:""),this.setElement(e)),0);this.on("paused",function(e){var t;u.isPlayMedia=!1,null!=(t=u.getMediaElement())&&t.pause()}),this.on("animate",function(e){var t=u.getMediaElement(),n=(t.muted=!1,e.time),r=n<y,i="running"===u.getPlayState(),a=-1<u.getDirection().indexOf("reverse"),o=u.isPlayMedia,e=e.frames.media,l=d.getPlaySpeed(),s=u.getDuration(),c=u.getVolume(),e=e.get("seek");y=n,i&&o||(t.playbackRate=l*(a?-1:1),t.currentTime=e),r||n<=0||s<=n?i&&(u.isPlayMedia=!1,t.pause()):(t.volume=c,!o&&i&&(u.isPlayMedia=!0,(l=t.play())instanceof Promise)&&l.catch(function(){t.muted=!0,t.play()}))})}}]),S),M=(l(w,g),b=u(w),o(w,[{key:"addMedia",value:function(e){var t=new _(1<arguments.length&&void 0!==arguments[1]?arguments[1]:e);return this.setItem(e,t),t}},{key:"getInfo",value:function(){var t={duration:0,medias:[]};return this.forEach(function(e){t.medias.push(e.getInfo())}),t.duration=this.getDuration(),t}}]),w);function w(){var e;return r(this,w),(e=b.call(this)).playInfos={},e}function S(e){var t;return r(this,S),(t=v.call(this)).isPlayMedia=!0,t.init(e),t}p.defaultProps={name:"audio",id:1,audio:"http://cld3097web.audiovideoweb.com/va90web25003/companions/Foundations%20of%20Rock/5.02.mp3",volume:1,playSpeed:1,delay:0,seekStart:0,seekEnd:0},p.propTypes={name:t.string,id:t.number,volume:t.number,audio:t.string,playSpeed:t.number,delay:t.number||t.string,seekStart:t.number,seekEnd:t.number};function O(e){var t=e.name,n=e.id,r=(e.ratio,e.img),i=e.keyframes,a=e.style,o=e.playSpeed,l=e.delay,s=e.iteration,c=L.useContext(z),u=t.replaceAll(" ","_")+n;return L.useEffect(function(){c.newItem(".ImageLayer-".concat(u),{selector:!0,delay:l,playSpeed:o}).set(A(A({},i),{},{options:{easing:"ease-in-out",delay:l,iteration:s,playSpeed:o}}))},[t,i,s]),L.createElement("div",{"data-testid":"ImageLayer-".concat(u),className:"ImageLayer-".concat(u),style:A(A({},a),{},{backgroundImage:"url("+r+")",backgroundRepeat:"no-repeat"})})}function x(e){var t=e.name,n=e.id,d=e.ratio,r=e.keyframes,i=e.style,a=e.playSpeed,y=e.delay,o=e.iteration,l=e.foreground,p=e.gridX,f=e.gridY,s=L.useContext(z),m=t.replaceAll(" ","_")+n,n=(e=D(L.useState([]),2))[0],c=e[1],u=(L.useEffect(function(){s.newItem(".Layer-".concat(m),{selector:!0,delay:y,playSpeed:a}).set(A(A({},r),{},{options:{delay:y,iteration:o,playSpeed:a}})),c(u(l))},[t,r,o]),function(e){for(var t=[],n=0;n<p;n++)for(var r=0;r<f;r++){var i=d.width/p*101/d.width+"%",a=d.height/f*100/d.height+"%",o=d.height/f*r*101/d.height+"%",l=d.width/p*n*100/d.width+"%",s=-d.width/p*n+"px",c=-d.height/f*r+"px",u=E.v4().replaceAll("-","");t.push(L.createElement(O,{key:u,img:e,name:"foreground"+m+n+r,delay:y+n,id:n+r,keyframes:{0:{transform:"translate(0, -100%)"},.5:{transform:"translate(0, 0)"}},iteration:1,style:{top:o,left:l,width:i,height:a,position:"absolute",backgroundPosition:s+" "+c,backgroundSize:d.width+"px"},ratio:{width:i,height:a}}))}return t});return L.createElement("div",{"data-testid":"Layer-".concat(m),className:"Layer-".concat(m),id:"Layer-".concat(m),style:A({position:"absolute",width:d.width,height:d.height,left:0,right:0,top:0,bottom:0,margin:"auto"},i)},n)}function k(e){var t=e.name,n=e.id,g=e.ratio,r=e.keyframes,b=e.keyframesImage,v=e.keyframesText,i=e.style,w=e.textLayerStyle,S=e.text,a=e.playSpeed,o=e.delay,x=e.splitDelay,l=e.iteration,s=e.foreground,c=L.useContext(z),k=t.replaceAll(" ","_")+n,n=(e=D(L.useState([]),2))[0],u=e[1],d=(L.useEffect(function(){c.newItem(".Layer-".concat(k),{selector:!0,delay:o,playSpeed:a}).set(A(A({},r),{},{options:{delay:o,iteration:l,playSpeed:a}})),u(d(s))},[t,r,l]),function(e){for(var t=[],n=0,r=0,i=0,a=0,o=0;o<4;o++)for(var l=0;l<3;l++){var s=g.width/4*100/g.width+"%",c=g.height/3*100/g.height+"%",u=g.height/3*l*100/g.height+"%",d=g.width/4*o*100/g.width+"%",y=-g.width/4*o+"px",p=-g.height/3*l+"px",f=E.v4().replaceAll("-",""),m=1===o&&1===l||2===o&&1===l?{2:{opacity:0}}:{};1===o&&1===l&&(n=u,r=d,a=c),2===o&&1===l&&(i=2*parseInt(s)+"%"),t.push(L.createElement(O,{key:f,img:e,name:"foreground"+k+o+l,delay:x,id:o+l,keyframes:A(A({},b),m),iteration:1,style:{top:u,left:d,width:s,height:c,position:"absolute",backgroundPosition:y+" "+p,backgroundSize:"center center"},ratio:{width:s,height:c}}))}var h=E.v4().replaceAll("-","");return t.push(L.createElement(I,{key:h,ratio:g,id:h,name:"fade in text",delay:2*x,style:{margin:0,top:n,left:r,width:i,height:a,position:"absolute",transform:"scale(75%)"},keyframes:v,iteration:1},L.createElement("div",{style:A({fontSize:30,display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},w)},S))),t});return L.createElement("div",{"data-testid":"Layer-".concat(k),className:"Layer-".concat(k),id:"Layer-".concat(k),style:A({position:"absolute",width:g.width,height:g.height,left:0,right:0,top:0,bottom:0,margin:"auto"},i)},n)}function j(e){var t=e.name,n=e.id,g=e.ratio,r=e.keyframes,i=e.style,b=e.textLayerStyle,v=e.text,a=e.playSpeed,w=e.delay,S=e.sliceDelay,o=e.iteration,l=e.foreground,x=e.gridX,k=e.gridY,s=L.useContext(z),j=t.replaceAll(" ","_")+n,n=(e=D(L.useState([]),2))[0],c=e[1],u=(L.useEffect(function(){s.newItem(".Layer-".concat(j),{selector:!0,delay:w,playSpeed:a}).set(A(A({},r),{},{options:{delay:w,iteration:o,playSpeed:a}})),c(u(l))},[t,r,o]),function(e){for(var t=[],n=0,r=0,i=0,a=0,o=0;o<x;o++)for(var l=o%2==0?98:100,s=0;s<k;s++){var c=g.width/x*l/g.width+"%",u=g.height/k*95/g.height+"%",d=g.height/k*s*100/g.height+"%",y=g.width/x*o*100/g.width+"%",p=-g.width/x*o+"px",f=-g.height/k*s+"px",m=E.v4().replaceAll("-","");t.push(L.createElement(O,{key:m,img:e,name:"foreground"+j+o+s,delay:w*s,id:o+s,keyframes:{0:{opacity:1,transform:"translate(".concat(s%2==0?"200%":"-200%",", 0)")},2:{opacity:1,transform:"translate(0, 0)"},4:{opacity:1},4.5:{opacity:0}},iteration:1,style:{top:d,left:y,width:c,height:u,position:"absolute",backgroundPosition:p+" "+f,backgroundSize:g.width+"px"},ratio:{width:c,height:u}})),k-2===s&&(n=d,r=y,i=c,a=u)}var h=E.v4().replaceAll("-","");return t.push(L.createElement(I,{key:h,ratio:g,id:h,name:"fade out text",delay:w+S,style:{margin:0,top:n,left:r,width:i,height:a,position:"absolute",backgroundColor:"#000"},keyframes:{0:{opacity:1,transform:"translate(200%, 0)"},1:{opacity:1,transform:"translate(0, 0)"},2.8:{opacity:1},3:{opacity:0}},iteration:1},L.createElement("div",{style:A({color:"#fff",fontSize:30,display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},b)},v))),t});return L.createElement("div",{"data-testid":"Layer-".concat(j),className:"Layer-".concat(j),id:"Layer-".concat(j),style:A({position:"absolute",width:g.width,height:g.height,left:0,right:0,top:0,bottom:0,margin:"auto"},i)},n)}function P(e){var t=e.name,n=e.id,o=e.ratio,r=e.keyframes,i=e.style,a=e.playSpeed,l=e.delay,s=e.iteration,c=e.foreground,u=(e.background,e.gridX),d=L.useContext(z),y=t.replaceAll(" ","_")+n,n=(e=D(L.useState([]),2))[0],p=e[1],f=(L.useEffect(function(){d.newItem(".Layer-".concat(y),{selector:!0,delay:l,playSpeed:a}).set(A(A({},r),{},{options:{delay:l,iteration:s,playSpeed:a}})),p(f(c))},[t,r,s]),function(e){for(var t=[],n=0;n<u;n++){var r=o.width/u*100/o.width+"%",i=o.width/u*n*100/o.width+"%",a=-o.width/u*n+"px";t.push(L.createElement(O,{key:n,img:e,name:"foreground"+y+n,delay:l+n,id:n,keyframes:{0:{opacity:0,transform:"translate(-100%, 0)"},.5:{opacity:1,transform:"translate(0, 0)"}},iteration:1,style:{top:0,left:i,width:r,height:o.height,position:"absolute",zIndex:n,backgroundPosition:a+" 0",backgroundSize:o.width+"px"},ratio:o}))}return t});return L.createElement("div",{"data-testid":"Layer-".concat(y),className:"Layer-".concat(y),id:"Layer-".concat(y),style:A({position:"absolute",width:o.width,height:o.height,left:0,right:0,top:0,bottom:0,margin:"auto"},i)},n)}function T(e){var t=e.text,n=e.name,r=e.id,i=e.ratio,a=e.keyframes,o=e.style,l=e.textLayerStyle,s=e.playSpeed,c=e.delay,u=e.iteration,e=e.textColor,d=L.useContext(z),y=n.replaceAll(" ","_")+r;return L.useEffect(function(){d.newItem(".Layer-".concat(y),{selector:!0,delay:c,playSpeed:s}).set(A(A({},a),{},{options:{delay:c,iteration:u,playSpeed:s}}))},[n,a,u]),L.createElement("div",{"data-testid":"Layer-".concat(y),className:"Layer-".concat(y),style:A({position:"absolute",width:i.width,height:i.height,left:0,right:0,top:0,bottom:0,margin:"auto",pointerEvents:"auto",cursor:"default"},o)},L.createElement("div",{style:A({fontSize:30,position:"absolute"},l)},L.createElement("div",{style:{color:e}},t)))}O.defaultProps={name:"imageAnimation",id:1,ratio:{width:1080,height:720},img:"https://assets2.razerzone.com/images/pnx.assets/618c0b65424070a1017a7168ea1b6337/razer-wallpapers-page-hero-mobile.jpg",keyframes:{},style:{},playSpeed:1,delay:0,iteration:"infinite"},O.propTypes={name:t.string,id:t.oneOfType([t.string,t.number]),ratio:t.object,img:t.string,keyframes:t.object,style:t.object,layerStyle:t.object,playSpeed:t.number,delay:t.number||t.string,iteration:t.any},x.defaultProps={name:"splitAnimation",id:1,ratio:{width:1080,height:720},keyframes:{},style:{},playSpeed:1,delay:0,iteration:"infinite",foreground:"",gridX:5,gridY:1},x.propTypes={name:t.string,id:t.oneOfType([t.string,t.number]),ratio:t.object,keyframes:t.object,style:t.object,layerStyle:t.object,playSpeed:t.number,delay:t.number||t.string,iteration:t.any,foreground:t.string,gridX:t.number,gridY:t.number},k.defaultProps={name:"splitOutAnimation",id:1,ratio:{width:1080,height:720},keyframes:{},keyframesImage:{},keyframesText:{},style:{},textLayerStyle:{},text:"Hello There .....",playSpeed:1,delay:0,splitDelay:0,iteration:"infinite",foreground:""},k.propTypes={name:t.string,id:t.oneOfType([t.string,t.number]),ratio:t.object,keyframes:t.object,keyframesImage:t.object,keyframesText:t.object,style:t.object,textLayerStyle:t.object,text:t.string,playSpeed:t.number,delay:t.oneOfType([t.string,t.number]),splitDelay:t.oneOfType([t.string,t.number]),iteration:t.any,foreground:t.string},j.defaultProps={name:"splitInAnimation",id:1,ratio:{width:1080,height:720},keyframes:{},style:{},textLayerStyle:{},text:"Hello There .....",playSpeed:1,delay:0,sliceDelay:0,iteration:"infinite",foreground:"",gridX:5,gridY:1},j.propTypes={name:t.string,id:t.number,ratio:t.object,keyframes:t.object,style:t.object,textLayerStyle:t.object,text:t.string,layerStyle:t.object,playSpeed:t.number,delay:t.number||t.string,sliceDelay:t.number||t.string,iteration:t.any,foreground:t.string,gridX:t.number,gridY:t.number},P.defaultProps={name:"splitSlideInAnimation",id:1,ratio:{width:1080,height:720},keyframes:{},style:{},playSpeed:1,delay:0,iteration:"infinite",foreground:"",gridX:5},P.propTypes={name:t.string,id:t.oneOfType([t.string,t.number]),ratio:t.object,keyframes:t.object,style:t.object,layerStyle:t.object,playSpeed:t.number,delay:t.number||t.string,iteration:t.any,foreground:t.string,gridX:t.number};function N(){var e="undefined"!=typeof window?window:{};return{width:e.innerWidth,height:e.innerHeight}}T.defaultProps={name:"textAnimation",id:1,ratio:{width:1080,height:720},keyframes:{},style:{},playSpeed:1,delay:0,text:"Hello Text . . .",iteration:"infinite"},T.propTypes={name:t.string,id:t.oneOfType([t.string,t.number]),ratio:t.object,keyframes:t.object,style:t.object,layerStyle:t.object,textLayerStyle:t.object,playSpeed:t.number,delay:t.number||t.string,text:t.string,iteration:t.any,textColor:t.string};var W=L.forwardRef(function(e,t){function r(e,t,n){var r="".concat(e).length,i=[];n&&i.push(e);for(var a=r;a<t;++a)i.push(0);return n||i.push(e),i.join("")}var n,i,a,o=e.children,l=e.width,s=e.height,c=e.controls,u=e.playing,d=e.fullWidth,y=e.animationDuration,p=e.inline,f=e.CanvasInnerStyle,m=e.CompositionStyle,h=e.playerWrapperStyle,g=e.playerStyle,b=e.playerButtonStyle,v=e.playerTrackStyle,e=e.showTimer,w=L.useContext(z),S=L.useRef(null),x=D(L.useState(!1),2),k=x[0],j=x[1],x=D(L.useState(0),2),E=x[0],I=x[1],x=D(L.useState("00:00"),2),O=x[0],P=x[1],x=(L.useImperativeHandle(t,function(){return{play:function(){w.play()},pause:function(){w.pause()},finish:function(){w.finish()},duration:function(){return w.getDuration()}}}),n=l,i=s,x=D(L.useState(N()),2),t=x[0],a=x[1],L.useEffect(function(){function e(){var e={height:N().height/(16/9),width:N().width/(16/9)};e.scale=Math.min(e.width/n,e.height/i),a(e)}return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[]),t),t=x.height,T=x.width,x=x.scale,C=(L.useEffect(function(){var t=w.getDuration();y(t),w.on("play",function(e){j(!0)}),w.on("paused",function(e){j(!1)}),w.on("animate",function(e){I(100*e.time/t),C(e.time)}),u&&u({playing:k,progress:E})},[k,E]),function(e){var t=r(Math.floor(e/60),2),n=r(Math.floor(e%60),2);r(Math.floor(e%1*100),3,!0),P("".concat(t,":").concat(n))});return L.createElement("div",{id:"canvasContainer"},L.createElement("div",{className:p?"":"Canvas",id:"recorderCanvas",ref:S},L.createElement("div",{className:"CanvasInner",style:A(d?{width:"100%",height:"100%"}:{width:T,height:t},f)},L.createElement("div",{id:"Composition",className:"Composition",style:A(d?{width:l,height:s}:{width:l,height:s,transform:"translate(-50%, -50%) scale(".concat(x||1,")")},m)},L.createElement("div",{className:"Layers",style:{width:l,height:s}},o)))),c&&L.createElement("div",{className:p?"playerWrapperInline":"playerWrapper",style:h},L.createElement("div",{className:"player",style:A({width:T},g)},L.createElement("div",{className:"".concat(k?"pause":"play"),style:A({},b),onClick:function(){w.isPaused()?w.play():w.pause()}}),L.createElement("input",{className:"progress",style:A({},v),type:"range",onChange:function(e){w.pause(),w.setTime(e.target.value+"%")},value:E.toString(),min:"0",max:"100"}),e&&L.createElement("span",{style:{marginLeft:10}},O))))}),C=L.forwardRef(function(e,t){var n=e.children,r=e.width,i=e.height,a=e.jsCanva,o=e.controls,l=e.playing,s=e.fullWidth,c=e.animationDuration,u=e.inline,d=e.CanvasInnerStyle,y=e.CompositionStyle,p=e.playerWrapperStyle,f=e.playerStyle,m=e.playerButtonStyle,h=e.playerTrackStyle,e=e.showTimer;return L.createElement(z.Provider,{value:new g({},{easing:g.EASE_IN_OUT,iterationCount:1,selector:!0})},L.createElement(W,{ref:t,height:i,width:r,controls:o,playing:l,jsCanva:a,fullWidth:s,animationDuration:c,inline:u,CanvasInnerStyle:d,CompositionStyle:y,playerWrapperStyle:p,playerStyle:f,playerButtonStyle:m,playerTrackStyle:h,showTimer:e},n))});C.defaultProps={width:1920,height:1080,children:[],controls:!0,playing:function(){},fullWidth:!1,animationDuration:function(){},inline:!1,showTimer:!1},C.propTypes={width:t.number,height:t.number,children:t.any,controls:t.bool,playing:t.func,fullWidth:t.bool,animationDuration:t.func,inline:t.bool,CanvasInnerStyle:t.object,CompositionStyle:t.object,playerWrapperStyle:t.object,playerStyle:t.object,playerButtonStyle:t.object,playerTrackStyle:t.object,showTimer:t.bool},e.AudioLayer=p,e.Canvas=C,e.Layer=I,e.SplitDownLayer=x,e.SplitInLayer=j,e.SplitOutLayer=k,e.SplitSlideInLayer=P,e.TextLayer=T});
//# sourceMappingURL=ocanvas.js.map
