{"version":3,"file":"ocanvas.js","sources":["../src/components/Layer.js","../src/components/AudioLayer.js","../node_modules/style-inject/dist/style-inject.es.js","../src/media/index.js","../src/media/Media.js","../util/useJsCanvas.js","../src/components/ImageLayer.js","../src/components/SplitDownLayer.js","../src/components/SplitOutLayer.js","../src/components/SplitInLayer.js","../src/components/SplitSlideInLayer.js","../src/components/TextLayer.js","../util/useWindowDimensions.js","../src/Canvas/Canvas.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst Layer = ({\n\tchildren,\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t}, [name, keyframes, iteration]);\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n};\n\nLayer.defaultProps = {\n\tname: 'animation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\tchildren: <div />,\n\titeration: 'infinite',\n};\n\nLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\tchildren: PropTypes.any,\n\titeration: PropTypes.any,\n};\n\nexport { Layer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport MediaScene from '../media';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst AudioLayer = ({\n\tname,\n\tid,\n\taudio,\n\tvolume,\n\tplaySpeed,\n\tdelay,\n\tseekStart,\n\tseekEnd,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tuseEffect(() => {\n\t\tlet media = new MediaScene();\n\t\tlet theDuration = jsCanvas.getDuration();\n\t\tlet newMedia = media.addMedia(name + id, audio);\n\n\t\tnewMedia.setVolume(volume).setPlaySpeed(playSpeed).setDelay(delay);\n\n\t\tif (seekEnd > 0) {\n\t\t\tnewMedia.seek(seekStart, seekEnd);\n\t\t} else {\n\t\t\tnewMedia.seek(0, theDuration);\n\t\t}\n\t\tjsCanvas.setItem('media', newMedia);\n\t}, [seekStart, seekEnd]);\n\n\treturn <></>;\n};\n\nAudioLayer.defaultProps = {\n\tname: 'audio',\n\tid: 1,\n\taudio:\n\t\t'http://cld3097web.audiovideoweb.com/va90web25003/companions/Foundations%20of%20Rock/5.02.mp3',\n\tvolume: 1,\n\tplaySpeed: 1,\n\tdelay: 0,\n\tseekStart: 0,\n\tseekEnd: 0,\n};\n\nAudioLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.number,\n\tvolume: PropTypes.number,\n\taudio: PropTypes.string,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\tseekStart: PropTypes.number,\n\tseekEnd: PropTypes.number,\n};\n\nexport { AudioLayer };\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import Scene from 'scenejs';\nimport Media from './Media';\nexport default class MediaScene extends Scene {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.playInfos = {};\n\t}\n\t/**\n\t * add video or audio mediaInfo\n\t * @param id\n\t * @param url\n\t */\n\taddMedia(id, url = id) {\n\t\tconst media = new Media(url);\n\t\tthis.setItem(id, media);\n\t\treturn media;\n\t}\n\tgetInfo() {\n\t\tconst info = {\n\t\t\tduration: 0,\n\t\t\tmedias: [],\n\t\t};\n\t\tthis.forEach((media) => {\n\t\t\tinfo.medias.push(media.getInfo());\n\t\t});\n\t\tinfo.duration = this.getDuration();\n\t\treturn info;\n\t}\n}\n","import Scene from 'scenejs';\nimport { isString } from '@daybrush/utils';\n\nexport default class Media extends Scene {\n\tconstructor(url) {\n\t\tsuper();\n\t\tthis.isPlayMedia = true;\n\t\tthis.init(url);\n\t}\n\tgetMediaItem() {\n\t\treturn this.mediaItem;\n\t}\n\tgetVolume() {\n\t\treturn this.mediaItem.get(0, 'volume');\n\t}\n\tsetVolume(volume) {\n\t\tthis.mediaItem.set(0, 'volume', volume);\n\t\treturn this;\n\t}\n\tsetPlaySpeed(playSpeed) {\n\t\tthis.mediaItem.setPlaySpeed(playSpeed);\n\t\treturn this;\n\t}\n\tseek(fromTime, toTime) {\n\t\tconst mediaItem = this.mediaItem;\n\t\tmediaItem.set(0, 'seek', fromTime);\n\t\tmediaItem.set('100%', 'seek', toTime);\n\t\tmediaItem.setDuration(toTime - fromTime);\n\t\treturn this;\n\t}\n\tsetElement(element) {\n\t\tthis.mediaItem.setElement(element);\n\t\treturn this;\n\t}\n\tgetMediaElement() {\n\t\treturn this.mediaItem.getElements()[0];\n\t}\n\tgetInfo() {\n\t\tconst mediaItem = this.mediaItem;\n\t\tconst seek = [mediaItem.get(0, 'seek'), mediaItem.get('100%', 'seek')];\n\t\tconst playSpeed = mediaItem.getPlaySpeed();\n\t\tconst volume = this.getVolume();\n\t\tconst delay = this.getDelay();\n\t\tconst info = {\n\t\t\turl: this.url,\n\t\t\tseek,\n\t\t\tplaySpeed,\n\t\t\tdelay,\n\t\t\tvolume,\n\t\t};\n\t\treturn info;\n\t}\n\tinit(url) {\n\t\tconst mediaItem = this.newItem('media');\n\t\tmediaItem.newFrame(0);\n\t\tmediaItem.newFrame(1);\n\t\tmediaItem.set(0, 'volume', 1);\n\t\tmediaItem.set(0, 'seek', 0);\n\t\tmediaItem.set('100%', 'seek', 0);\n\t\tthis.mediaItem = mediaItem;\n\t\tif (isString(url)) {\n\t\t\tconst audio = new Audio();\n\t\t\taudio.src = url;\n\t\t\tthis.setElement(audio);\n\t\t\tthis.url = url;\n\t\t} else {\n\t\t\tif (url.src) {\n\t\t\t\tthis.url = url.src;\n\t\t\t} else {\n\t\t\t\tconst sourceElement = url.querySelector('[src]');\n\t\t\t\tthis.url = sourceElement ? sourceElement.src : '';\n\t\t\t}\n\t\t\tthis.setElement(url);\n\t\t}\n\t\tlet prevTime = 0;\n\t\tthis.on('paused', (e) => {\n\t\t\tvar _a;\n\t\t\tthis.isPlayMedia = false;\n\t\t\t(_a = this.getMediaElement()) === null || _a === void 0\n\t\t\t\t? void 0\n\t\t\t\t: _a.pause();\n\t\t});\n\t\tthis.on('animate', (e) => {\n\t\t\tconst mediaElement = this.getMediaElement();\n\t\t\tmediaElement.muted = false;\n\t\t\tconst time = e.time;\n\t\t\tconst isReversTime = prevTime > time;\n\t\t\tconst isRunning = this.getPlayState() === 'running';\n\t\t\tconst isReverse = this.getDirection().indexOf('reverse') > -1;\n\t\t\tconst isPlayMedia = this.isPlayMedia;\n\t\t\tconst frame = e.frames.media;\n\t\t\tconst playSpeed = mediaItem.getPlaySpeed();\n\t\t\tconst duration = this.getDuration();\n\t\t\tconst volume = this.getVolume();\n\t\t\tconst seek = frame.get('seek');\n\t\t\tprevTime = time;\n\t\t\tif (!isRunning || !isPlayMedia) {\n\t\t\t\tmediaElement.playbackRate = playSpeed * (isReverse ? -1 : 1);\n\t\t\t\tmediaElement.currentTime = seek;\n\t\t\t}\n\t\t\tif (isReversTime || time <= 0 || duration <= time) {\n\t\t\t\t// end play\n\t\t\t\tif (isRunning) {\n\t\t\t\t\tthis.isPlayMedia = false;\n\t\t\t\t\tmediaElement.pause();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tmediaElement.volume = volume;\n\t\t\t\tif (!isPlayMedia && isRunning) {\n\t\t\t\t\tthis.isPlayMedia = true;\n\t\t\t\t\tconst result = mediaElement.play();\n\t\t\t\t\tif (result instanceof Promise) {\n\t\t\t\t\t\tresult.catch(() => {\n\t\t\t\t\t\t\tmediaElement.muted = true;\n\t\t\t\t\t\t\tmediaElement.play();\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n","import { createContext } from 'react';\n\nconst JsCanvasContext = createContext(null);\n\nexport { JsCanvasContext };\n","import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst ImageLayer = ({\n\tname,\n\tid,\n\tratio,\n\timg,\n\tkeyframes,\n\tstyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.ImageLayer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\teasing: 'ease-in-out',\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t}, [name, keyframes, iteration]);\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`ImageLayer-${baseName}`}\n\t\t\tclassName={`ImageLayer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\t...style,\n\t\t\t\tbackgroundImage: 'url(' + img + ')',\n\t\t\t\tbackgroundRepeat: 'no-repeat',\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nImageLayer.defaultProps = {\n\tname: 'imageAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\timg: 'https://assets2.razerzone.com/images/pnx.assets/618c0b65424070a1017a7168ea1b6337/razer-wallpapers-page-hero-mobile.jpg',\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\titeration: 'infinite',\n};\n\nImageLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\timg: PropTypes.string,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\titeration: PropTypes.any,\n};\n\nexport { ImageLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { ImageLayer } from './ImageLayer';\nimport { v4 as uuidv4 } from 'uuid';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst SplitDownLayer = ({\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n\tforeground,\n\tgridX,\n\tgridY,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\tconst [frontlayers, setFrontLayers] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t\tsetFrontLayers(generateSlices(foreground));\n\t}, [name, keyframes, iteration]);\n\n\tconst generateSlices = (img) => {\n\t\tlet theLayers = [];\n\n\t\tfor (let x = 0; x < gridX; x++) {\n\t\t\tfor (let y = 0; y < gridY; y++) {\n\t\t\t\tlet width = ((ratio.width / gridX) * 101) / ratio.width + '%',\n\t\t\t\t\theight = ((ratio.height / gridY) * 100) / ratio.height + '%',\n\t\t\t\t\ttop = ((ratio.height / gridY) * y * 101) / ratio.height + '%',\n\t\t\t\t\tleft = ((ratio.width / gridX) * x * 100) / ratio.width + '%',\n\t\t\t\t\tbgPosX = -((ratio.width / gridX) * x) + 'px',\n\t\t\t\t\tbgPosY = -((ratio.height / gridY) * y) + 'px';\n\n\t\t\t\tconst newId = uuidv4().replaceAll('-', '');\n\t\t\t\ttheLayers.push(\n\t\t\t\t\t<ImageLayer\n\t\t\t\t\t\tkey={newId}\n\t\t\t\t\t\timg={img}\n\t\t\t\t\t\tname={'foreground' + baseName + x + y}\n\t\t\t\t\t\tdelay={delay + x}\n\t\t\t\t\t\tid={x + y}\n\t\t\t\t\t\tkeyframes={{\n\t\t\t\t\t\t\t0: {\n\t\t\t\t\t\t\t\ttransform: `translate(0, -100%)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t0.5: {\n\t\t\t\t\t\t\t\ttransform: `translate(0, 0)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t\titeration={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tbackgroundPosition: bgPosX + ' ' + bgPosY,\n\t\t\t\t\t\t\tbackgroundSize: ratio.width + 'px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tratio={{ width: width, height: height }}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\treturn theLayers;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tid={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{frontlayers}\n\t\t</div>\n\t);\n};\n\nSplitDownLayer.defaultProps = {\n\tname: 'splitAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\titeration: 'infinite',\n\tforeground: '',\n\tgridX: 5,\n\tgridY: 1,\n};\n\nSplitDownLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\titeration: PropTypes.any,\n\tforeground: PropTypes.string,\n\tgridX: PropTypes.number,\n\tgridY: PropTypes.number,\n};\n\nexport { SplitDownLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { ImageLayer } from './ImageLayer';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Layer } from './Layer';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst SplitOutLayer = ({\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tkeyframesImage,\n\tkeyframesText,\n\tstyle,\n\ttextLayerStyle,\n\ttext,\n\tplaySpeed,\n\tdelay,\n\tsplitDelay,\n\titeration,\n\tforeground,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\tconst [frontlayers, setFrontLayers] = useState([]);\n\tconst gridX = 4;\n\tconst gridY = 3;\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t\tsetFrontLayers(generateSlices(foreground));\n\t}, [name, keyframes, iteration]);\n\n\tconst generateSlices = (img) => {\n\t\tlet theLayers = [];\n\n\t\tlet afterTop = 0;\n\t\tlet afterLeft = 0;\n\t\tlet afterWidth = 0;\n\t\tlet afterHeight = 0;\n\n\t\tfor (let x = 0; x < gridX; x++) {\n\t\t\tfor (let y = 0; y < gridY; y++) {\n\t\t\t\tlet width = ((ratio.width / gridX) * 100) / ratio.width + '%',\n\t\t\t\t\theight = ((ratio.height / gridY) * 100) / ratio.height + '%',\n\t\t\t\t\ttop = ((ratio.height / gridY) * y * 100) / ratio.height + '%',\n\t\t\t\t\tleft = ((ratio.width / gridX) * x * 100) / ratio.width + '%',\n\t\t\t\t\tbgPosX = -((ratio.width / gridX) * x) + 'px',\n\t\t\t\t\tbgPosY = -((ratio.height / gridY) * y) + 'px';\n\n\t\t\t\tconst newId = uuidv4().replaceAll('-', '');\n\n\t\t\t\tlet centerTransitions =\n\t\t\t\t\t(x === 1 && y === 1) || (x === 2 && y === 1)\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t2: {\n\t\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t  }\n\t\t\t\t\t\t: {};\n\n\t\t\t\tif (x === 1 && y === 1) {\n\t\t\t\t\tafterTop = top;\n\t\t\t\t\tafterLeft = left;\n\t\t\t\t\tafterHeight = height;\n\t\t\t\t}\n\t\t\t\tif (x === 2 && y === 1) {\n\t\t\t\t\tafterWidth = parseInt(width) * 2 + '%';\n\t\t\t\t}\n\t\t\t\ttheLayers.push(\n\t\t\t\t\t<ImageLayer\n\t\t\t\t\t\tkey={newId}\n\t\t\t\t\t\timg={img}\n\t\t\t\t\t\tname={'foreground' + baseName + x + y}\n\t\t\t\t\t\tdelay={splitDelay}\n\t\t\t\t\t\tid={x + y}\n\t\t\t\t\t\tkeyframes={{ ...keyframesImage, ...centerTransitions }}\n\t\t\t\t\t\titeration={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tbackgroundPosition: bgPosX + ' ' + bgPosY,\n\t\t\t\t\t\t\tbackgroundSize: `center center`,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tratio={{ width: width, height: height }}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\n\t\tconst newExtraId = uuidv4().replaceAll('-', '');\n\t\ttheLayers.push(\n\t\t\t<Layer\n\t\t\t\tkey={newExtraId}\n\t\t\t\tratio={ratio}\n\t\t\t\tid={newExtraId}\n\t\t\t\tname={`fade in text`}\n\t\t\t\tdelay={splitDelay * 2}\n\t\t\t\tstyle={{\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\ttop: afterTop,\n\t\t\t\t\tleft: afterLeft,\n\t\t\t\t\twidth: afterWidth,\n\t\t\t\t\theight: afterHeight,\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttransform: `scale(75%)`,\n\t\t\t\t}}\n\t\t\t\tkeyframes={keyframesText}\n\t\t\t\titeration={1}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tfontSize: 30,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t...textLayerStyle,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t</Layer>\n\t\t);\n\n\t\treturn theLayers;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tid={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{frontlayers}\n\t\t</div>\n\t);\n};\n\nSplitOutLayer.defaultProps = {\n\tname: 'splitOutAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tkeyframesImage: {},\n\tkeyframesText: {},\n\tstyle: {},\n\ttextLayerStyle: {},\n\ttext: 'Hello There .....',\n\tplaySpeed: 1,\n\tdelay: 0,\n\tsplitDelay: 0,\n\titeration: 'infinite',\n\tforeground: '',\n};\n\nSplitOutLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tkeyframesImage: PropTypes.object,\n\tkeyframesText: PropTypes.object,\n\tstyle: PropTypes.object,\n\ttextLayerStyle: PropTypes.object,\n\ttext: PropTypes.string,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tsplitDelay: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\titeration: PropTypes.any,\n\tforeground: PropTypes.string,\n};\n\nexport { SplitOutLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { ImageLayer } from './ImageLayer';\nimport { v4 as uuidv4 } from 'uuid';\nimport { Layer } from './Layer';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst SplitInLayer = ({\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\ttextLayerStyle,\n\ttext,\n\tplaySpeed,\n\tdelay,\n\tsliceDelay,\n\titeration,\n\tforeground,\n\tgridX,\n\tgridY,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\tconst [frontlayers, setFrontLayers] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t\tsetFrontLayers(generateSlices(foreground));\n\t}, [name, keyframes, iteration]);\n\n\tconst generateSlices = (img) => {\n\t\tlet theLayers = [];\n\t\tlet afterTop = 0;\n\t\tlet afterLeft = 0;\n\t\tlet afterWidth = 0;\n\t\tlet afterHeight = 0;\n\n\t\tfor (let x = 0; x < gridX; x++) {\n\t\t\tlet cropRatio = x % 2 === 0 ? 98 : 100;\n\t\t\tfor (let y = 0; y < gridY; y++) {\n\t\t\t\tlet width = ((ratio.width / gridX) * cropRatio) / ratio.width + '%',\n\t\t\t\t\theight = ((ratio.height / gridY) * 95) / ratio.height + '%',\n\t\t\t\t\ttop = ((ratio.height / gridY) * y * 100) / ratio.height + '%',\n\t\t\t\t\tleft = ((ratio.width / gridX) * x * 100) / ratio.width + '%',\n\t\t\t\t\tbgPosX = -((ratio.width / gridX) * x) + 'px',\n\t\t\t\t\tbgPosY = -((ratio.height / gridY) * y) + 'px';\n\n\t\t\t\tconst newId = uuidv4().replaceAll('-', '');\n\n\t\t\t\tlet translate = y % 2 === 0 ? '200%' : '-200%';\n\n\t\t\t\ttheLayers.push(\n\t\t\t\t\t<ImageLayer\n\t\t\t\t\t\tkey={newId}\n\t\t\t\t\t\timg={img}\n\t\t\t\t\t\tname={'foreground' + baseName + x + y}\n\t\t\t\t\t\tdelay={delay * y}\n\t\t\t\t\t\tid={x + y}\n\t\t\t\t\t\tkeyframes={{\n\t\t\t\t\t\t\t0: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\ttransform: `translate(${translate}, 0)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t2: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t\ttransform: `translate(0, 0)`,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t4: {\n\t\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t4.5: {\n\t\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}}\n\t\t\t\t\t\titeration={1}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttop: top,\n\t\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tbackgroundPosition: bgPosX + ' ' + bgPosY,\n\t\t\t\t\t\t\tbackgroundSize: ratio.width + 'px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tratio={{ width: width, height: height }}\n\t\t\t\t\t/>\n\t\t\t\t);\n\n\t\t\t\tif (gridY - 2 === y) {\n\t\t\t\t\tafterTop = top;\n\t\t\t\t\tafterLeft = left;\n\t\t\t\t\tafterWidth = width;\n\t\t\t\t\tafterHeight = height;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst newExtraId = uuidv4().replaceAll('-', '');\n\t\ttheLayers.push(\n\t\t\t<Layer\n\t\t\t\tkey={newExtraId}\n\t\t\t\tratio={ratio}\n\t\t\t\tid={newExtraId}\n\t\t\t\tname={`fade out text`}\n\t\t\t\tdelay={delay + sliceDelay}\n\t\t\t\tstyle={{\n\t\t\t\t\tmargin: 0,\n\t\t\t\t\ttop: afterTop,\n\t\t\t\t\tleft: afterLeft,\n\t\t\t\t\twidth: afterWidth,\n\t\t\t\t\theight: afterHeight,\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\tbackgroundColor: '#000',\n\t\t\t\t}}\n\t\t\t\tkeyframes={{\n\t\t\t\t\t0: {\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\ttransform: 'translate(200%, 0)',\n\t\t\t\t\t},\n\t\t\t\t\t1: {\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\ttransform: 'translate(0, 0)',\n\t\t\t\t\t},\n\t\t\t\t\t2.8: {\n\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t},\n\t\t\t\t\t3: {\n\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t\titeration={1}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: '#fff',\n\t\t\t\t\t\tfontSize: 30,\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tjustifyContent: 'center',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t...textLayerStyle,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{text}\n\t\t\t\t</div>\n\t\t\t</Layer>\n\t\t);\n\n\t\treturn theLayers;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tid={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t// backgroundColor: '#000',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{frontlayers}\n\t\t</div>\n\t);\n};\n\nSplitInLayer.defaultProps = {\n\tname: 'splitInAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\ttextLayerStyle: {},\n\ttext: 'Hello There .....',\n\tplaySpeed: 1,\n\tdelay: 0,\n\tsliceDelay: 0,\n\titeration: 'infinite',\n\tforeground: '',\n\tgridX: 5,\n\tgridY: 1,\n};\n\nSplitInLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.number,\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\ttextLayerStyle: PropTypes.object,\n\ttext: PropTypes.string,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\tsliceDelay: PropTypes.number || PropTypes.string,\n\titeration: PropTypes.any,\n\tforeground: PropTypes.string,\n\tgridX: PropTypes.number,\n\tgridY: PropTypes.number,\n};\n\nexport { SplitInLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { ImageLayer } from './ImageLayer';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst SplitSlideInLayer = ({\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n\tforeground,\n\tbackground,\n\tgridX,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\tconst [frontlayers, setFrontLayers] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t\tsetFrontLayers(generateSlices(foreground));\n\t}, [name, keyframes, iteration]);\n\n\tconst generateSlices = (img) => {\n\t\tlet theLayers = [];\n\n\t\tfor (let x = 0; x < gridX; x++) {\n\t\t\tlet width = ((ratio.width / gridX) * 100) / ratio.width + '%',\n\t\t\t\tleft = ((ratio.width / gridX) * x * 100) / ratio.width + '%',\n\t\t\t\tbgPosX = -((ratio.width / gridX) * x) + 'px';\n\n\t\t\ttheLayers.push(\n\t\t\t\t<ImageLayer\n\t\t\t\t\tkey={x}\n\t\t\t\t\timg={img}\n\t\t\t\t\tname={'foreground' + baseName + x}\n\t\t\t\t\tdelay={delay + x}\n\t\t\t\t\tid={x}\n\t\t\t\t\tkeyframes={{\n\t\t\t\t\t\t0: {\n\t\t\t\t\t\t\topacity: 0,\n\t\t\t\t\t\t\ttransform: `translate(-100%, 0)`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t0.5: {\n\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\ttransform: `translate(0, 0)`,\n\t\t\t\t\t\t},\n\t\t\t\t\t}}\n\t\t\t\t\titeration={1}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\tleft: left,\n\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\theight: ratio.height,\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\tzIndex: x,\n\t\t\t\t\t\tbackgroundPosition: bgPosX + ' ' + 0,\n\t\t\t\t\t\tbackgroundSize: ratio.width + 'px',\n\t\t\t\t\t}}\n\t\t\t\t\tratio={ratio}\n\t\t\t\t/>\n\t\t\t);\n\t\t}\n\n\t\treturn theLayers;\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tid={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t{frontlayers}\n\t\t</div>\n\t);\n};\n\nSplitSlideInLayer.defaultProps = {\n\tname: 'splitSlideInAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\titeration: 'infinite',\n\tforeground: '',\n\tgridX: 5,\n};\n\nSplitSlideInLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\titeration: PropTypes.any,\n\tforeground: PropTypes.string,\n\tgridX: PropTypes.number,\n};\n\nexport { SplitSlideInLayer };\n","import React, { useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport '../Canvas/Canvas.css';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst TextLayer = ({\n\ttext,\n\tname,\n\tid,\n\tratio,\n\tkeyframes,\n\tstyle,\n\ttextLayerStyle,\n\tplaySpeed,\n\tdelay,\n\titeration,\n\ttextColor,\n}) => {\n\tconst jsCanvas = useContext(JsCanvasContext);\n\tconst baseName = name.replaceAll(' ', '_') + id;\n\n\tuseEffect(() => {\n\t\tconst newItem = jsCanvas.newItem(`.Layer-${baseName}`, {\n\t\t\tselector: true,\n\t\t\tdelay: delay,\n\t\t\tplaySpeed: playSpeed,\n\t\t});\n\t\tnewItem.set({\n\t\t\t...keyframes,\n\t\t\toptions: {\n\t\t\t\tdelay: delay,\n\t\t\t\titeration: iteration,\n\t\t\t\tplaySpeed: playSpeed,\n\t\t\t},\n\t\t});\n\t}, [name, keyframes, iteration]);\n\n\treturn (\n\t\t<div\n\t\t\tdata-testid={`Layer-${baseName}`}\n\t\t\tclassName={`Layer-${baseName}`}\n\t\t\tstyle={{\n\t\t\t\tposition: 'absolute',\n\t\t\t\twidth: ratio.width,\n\t\t\t\theight: ratio.height,\n\t\t\t\tleft: 0,\n\t\t\t\tright: 0,\n\t\t\t\ttop: 0,\n\t\t\t\tbottom: 0,\n\t\t\t\tmargin: 'auto',\n\t\t\t\tpointerEvents: 'auto',\n\t\t\t\tcursor: 'default',\n\t\t\t\t...style,\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tfontSize: 30,\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t...textLayerStyle,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div style={{ color: textColor }}>{text}</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nTextLayer.defaultProps = {\n\tname: 'textAnimation',\n\tid: 1,\n\tratio: {\n\t\twidth: 1080,\n\t\theight: 720,\n\t},\n\tkeyframes: {},\n\tstyle: {},\n\tplaySpeed: 1,\n\tdelay: 0,\n\ttext: 'Hello Text . . .',\n\titeration: 'infinite',\n};\n\nTextLayer.propTypes = {\n\tname: PropTypes.string,\n\tid: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n\tratio: PropTypes.object,\n\tkeyframes: PropTypes.object,\n\tstyle: PropTypes.object,\n\tlayerStyle: PropTypes.object,\n\ttextLayerStyle: PropTypes.object,\n\tplaySpeed: PropTypes.number,\n\tdelay: PropTypes.number || PropTypes.string,\n\ttext: PropTypes.string,\n\titeration: PropTypes.any,\n\ttextColor: PropTypes.string,\n};\n\nexport { TextLayer };\n","import { useEffect, useState } from 'react';\n\nfunction getWindowDimensions() {\n\tconst { innerWidth: width, innerHeight: height } =\n\t\ttypeof window !== 'undefined' ? window : {};\n\treturn {\n\t\twidth,\n\t\theight,\n\t};\n}\n\nexport default function useWindowDimensions(\n\tcanvasContentRef,\n\tmaxWidth,\n\tmaxHeight\n) {\n\tconst [windowDimensions, setWindowDimensions] = useState(\n\t\tgetWindowDimensions()\n\t);\n\n\tuseEffect(() => {\n\t\tfunction handleResize() {\n\t\t\tlet theRatio = {\n\t\t\t\theight: getWindowDimensions().height / (16 / 9),\n\t\t\t\twidth: getWindowDimensions().width / (16 / 9),\n\t\t\t};\n\n\t\t\ttheRatio.scale = Math.min(\n\t\t\t\ttheRatio.width / maxWidth,\n\t\t\t\ttheRatio.height / maxHeight\n\t\t\t);\n\t\t\tsetWindowDimensions(theRatio);\n\t\t}\n\n\t\thandleResize();\n\n\t\twindow.addEventListener('resize', handleResize);\n\t\treturn () => window.removeEventListener('resize', handleResize);\n\t}, []);\n\n\treturn windowDimensions;\n}\n","import React, {\n\tforwardRef,\n\tuseContext,\n\tuseEffect,\n\tuseImperativeHandle,\n\tuseRef,\n\tuseState,\n} from 'react';\nimport PropTypes from 'prop-types';\nimport './Canvas.css';\nimport Scene from 'scenejs';\nimport useWindowDimensions from '../../util/useWindowDimensions';\nimport { JsCanvasContext } from '../../util/useJsCanvas';\n\nconst CanvasContainer = forwardRef(\n\t(\n\t\t{\n\t\t\tchildren,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tcontrols,\n\t\t\tplaying,\n\t\t\tfullWidth,\n\t\t\tanimationDuration,\n\t\t\tinline,\n\t\t\tCanvasInnerStyle,\n\t\t\tCompositionStyle,\n\t\t\tplayerWrapperStyle,\n\t\t\tplayerStyle,\n\t\t},\n\t\tref\n\t) => {\n\t\tconst jsCanvas = useContext(JsCanvasContext);\n\t\tconst canvasRef = useRef(null);\n\t\tconst [isPlaying, setIsPlaying] = useState(false);\n\t\tconst [progress, setProgress] = useState(0);\n\n\t\tuseImperativeHandle(ref, () => ({\n\t\t\tplay() {\n\t\t\t\tjsCanvas.play();\n\t\t\t},\n\t\t\tpause() {\n\t\t\t\tjsCanvas.pause();\n\t\t\t},\n\t\t\tfinish() {\n\t\t\t\tjsCanvas.finish();\n\t\t\t},\n\t\t\tduration() {\n\t\t\t\treturn jsCanvas.getDuration();\n\t\t\t},\n\t\t}));\n\n\t\tconst {\n\t\t\theight: windowHeight,\n\t\t\twidth: windowWidth,\n\t\t\tscale,\n\t\t} = useWindowDimensions(canvasRef, width, height);\n\n\t\tuseEffect(() => {\n\t\t\tlet duration = jsCanvas.getDuration();\n\t\t\tanimationDuration(duration);\n\n\t\t\tjsCanvas.on('play', (e) => {\n\t\t\t\tsetIsPlaying(true);\n\t\t\t});\n\t\t\tjsCanvas.on('paused', (e) => {\n\t\t\t\tsetIsPlaying(false);\n\t\t\t});\n\t\t\tjsCanvas.on('animate', (e) => {\n\t\t\t\tsetProgress((100 * e.time) / duration);\n\t\t\t});\n\t\t\tif (playing) {\n\t\t\t\tplaying({\n\t\t\t\t\tplaying: isPlaying,\n\t\t\t\t\tprogress: progress,\n\t\t\t\t});\n\t\t\t}\n\t\t}, [isPlaying, progress]);\n\n\t\treturn (\n\t\t\t<div id=\"canvasContainer\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={inline ? '' : 'Canvas'}\n\t\t\t\t\tid=\"recorderCanvas\"\n\t\t\t\t\tref={canvasRef}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"CanvasInner\"\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\t\t\t\t...CanvasInnerStyle,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\twidth: windowWidth,\n\t\t\t\t\t\t\t\t\t\theight: windowHeight,\n\t\t\t\t\t\t\t\t\t\t...CanvasInnerStyle,\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"Composition\"\n\t\t\t\t\t\t\tclassName=\"Composition\"\n\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t\t\t...CompositionStyle,\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t\t\t\ttransform: `translate(-50%, -50%) scale(${\n\t\t\t\t\t\t\t\t\t\t\t\tscale ? scale : 1\n\t\t\t\t\t\t\t\t\t\t\t})`,\n\t\t\t\t\t\t\t\t\t\t\t...CompositionStyle,\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"Layers\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\twidth: width,\n\t\t\t\t\t\t\t\t\theight: height,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t{controls && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={inline ? 'playerWrapperInline' : 'playerWrapper'}\n\t\t\t\t\t\tstyle={playerWrapperStyle}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName=\"player\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: windowWidth,\n\t\t\t\t\t\t\t\t...playerStyle,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`${isPlaying ? 'pause' : 'play'}`}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tjsCanvas.isPaused() ? jsCanvas.play() : jsCanvas.pause();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclassName=\"progress\"\n\t\t\t\t\t\t\t\ttype=\"range\"\n\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\tjsCanvas.pause();\n\t\t\t\t\t\t\t\t\tjsCanvas.setTime(e.target.value + '%');\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tvalue={progress.toString()}\n\t\t\t\t\t\t\t\tmin=\"0\"\n\t\t\t\t\t\t\t\tmax=\"100\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t}\n);\n\nconst Canvas = forwardRef(\n\t(\n\t\t{\n\t\t\tchildren,\n\t\t\twidth,\n\t\t\theight,\n\t\t\tjsCanva,\n\t\t\tcontrols,\n\t\t\tplaying,\n\t\t\tfullWidth,\n\t\t\tanimationDuration,\n\t\t\tinline,\n\t\t\tCanvasInnerStyle,\n\t\t\tCompositionStyle,\n\t\t\tplayerWrapperStyle,\n\t\t\tplayerStyle,\n\t\t},\n\t\tref\n\t) => {\n\t\treturn (\n\t\t\t<JsCanvasContext.Provider\n\t\t\t\tvalue={\n\t\t\t\t\tnew Scene(\n\t\t\t\t\t\t{},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\teasing: Scene.EASE_IN_OUT,\n\t\t\t\t\t\t\titerationCount: 1,\n\t\t\t\t\t\t\tselector: true,\n\t\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<CanvasContainer\n\t\t\t\t\tref={ref}\n\t\t\t\t\theight={height}\n\t\t\t\t\twidth={width}\n\t\t\t\t\tcontrols={controls}\n\t\t\t\t\tplaying={playing}\n\t\t\t\t\tjsCanva={jsCanva}\n\t\t\t\t\tfullWidth={fullWidth}\n\t\t\t\t\tanimationDuration={animationDuration}\n\t\t\t\t\tinline={inline}\n\t\t\t\t\tCanvasInnerStyle={CanvasInnerStyle}\n\t\t\t\t\tCompositionStyle={CompositionStyle}\n\t\t\t\t\tplayerWrapperStyle={playerWrapperStyle}\n\t\t\t\t\tplayerStyle={playerStyle}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</CanvasContainer>\n\t\t\t</JsCanvasContext.Provider>\n\t\t);\n\t}\n);\n\nCanvas.defaultProps = {\n\twidth: 1920,\n\theight: 1080,\n\tchildren: [],\n\tcontrols: true,\n\tplaying: () => {},\n\tfullWidth: false,\n\tanimationDuration: () => {},\n\tinline: false,\n};\n\nCanvas.propTypes = {\n\twidth: PropTypes.number,\n\theight: PropTypes.number,\n\tchildren: PropTypes.any,\n\tcontrols: PropTypes.bool,\n\tplaying: PropTypes.func,\n\tfullWidth: PropTypes.bool,\n\tanimationDuration: PropTypes.func,\n\tinline: PropTypes.bool,\n\tCanvasInnerStyle: PropTypes.object,\n\tCompositionStyle: PropTypes.object,\n\tplayerWrapperStyle: PropTypes.object,\n\tplayerStyle: PropTypes.object,\n};\n\nexport { Canvas };\n"],"names":["Layer","_ref","children","name","id","ratio","keyframes","style","playSpeed","delay","iteration","jsCanvas","useContext","JsCanvasContext","baseName","replaceAll","useEffect","newItem","concat","selector","set","_objectSpread","options","React","createElement","data-testid","className","position","width","height","left","right","top","bottom","margin","AudioLayer","audio","volume","seekStart","seekEnd","media","MediaScene","theDuration","getDuration","newMedia","addMedia","setVolume","setPlaySpeed","setDelay","seek","setItem","Fragment","css","insertAt","ref","document","head","getElementsByTagName","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","_super","createContext","Media","defaultProps","propTypes","PropTypes","string","oneOfType","number","object","layerStyle","any","_inherits","Scene","_Scene","_createSuper","_createClass","key","value","this","mediaItem","get","fromTime","toTime","setDuration","element","setElement","getElements","getPlaySpeed","getVolume","getDelay","url","sourceElement","_this2","prevTime","newFrame","isString","Audio","src","querySelector","on","e","_a","isPlayMedia","getMediaElement","pause","mediaElement","time","muted","isReversTime","isRunning","getPlayState","isReverse","getDirection","indexOf","frame","frames","duration","playbackRate","currentTime","result","play","Promise","catch","info","medias","forEach","push","getInfo","_this","_classCallCheck","call","playInfos","init","ImageLayer","img","easing","backgroundImage","backgroundRepeat","SplitDownLayer","foreground","gridX","gridY","frontlayers","_useState2","_slicedToArray","useState","setFrontLayers","generateSlices","theLayers","x","y","bgPosX","bgPosY","newId","uuidv4","0","transform","0.5","backgroundPosition","backgroundSize","SplitOutLayer","keyframesImage","keyframesText","textLayerStyle","text","splitDelay","afterTop","afterLeft","afterWidth","afterHeight","centerTransitions","2","opacity","parseInt","newExtraId","fontSize","display","justifyContent","alignItems","SplitInLayer","sliceDelay","cropRatio","4","4.5","backgroundColor","1","2.8","3","color","SplitSlideInLayer","background","zIndex","TextLayer","textColor","pointerEvents","cursor","getWindowDimensions","window","innerWidth","innerHeight","CanvasContainer","forwardRef","maxWidth","maxHeight","setWindowDimensions","controls","playing","fullWidth","animationDuration","inline","CanvasInnerStyle","CompositionStyle","playerWrapperStyle","playerStyle","canvasRef","useRef","isPlaying","setIsPlaying","_useState4","progress","setProgress","_useWindowDimensions","useImperativeHandle","finish","windowDimensions","handleResize","theRatio","scale","Math","min","addEventListener","removeEventListener","windowHeight","windowWidth","onClick","isPaused","onChange","setTime","target","toString","max","Canvas","_ref2","jsCanva","Provider","EASE_IN_OUT","iterationCount","bool","func"],"mappings":"6hHAKc,SAARA,EAUAC,GAAA,IATLC,IAAAA,SACAC,IAAAA,KACAC,IAAAA,GACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UAEMC,EAAWC,aAAWC,CAAAA,EACtBC,EAAWX,EAAKY,WAAW,IAAK,GAAOX,EAAAA,EAkB7C,OAhBAY,EAAAA,UAAU,WACOL,EAASM,QAAO,UAAAC,OAAWJ,CAAY,EAAA,CACtDK,SAAU,CAAA,EACVV,MAAOA,EACPD,UAAWA,CAAAA,CAAAA,EAEJY,IAAGC,EAAAA,EAAA,GACPf,CAAS,EAAA,GAAA,CACZgB,QAAS,CACRb,MAAOA,EACPC,UAAWA,EACXF,UAAWA,CAAAA,CAAAA,CAAAA,CAAAA,CAGX,EAAA,CAACL,EAAMG,EAAWI,EAGpBa,EAAAA,EAAAC,cAAA,MAAA,CACCC,cAAA,SAAAP,OAAsBJ,CACtBY,EAAAA,UAAS,SAAAR,OAAWJ,CACpBP,EAAAA,MAAKc,EAAA,CACJM,SAAU,WACVC,MAAOvB,EAAMuB,MACbC,OAAQxB,EAAMwB,OACdC,KAAM,EACNC,MAAO,EACPC,IAAK,EACLC,OAAQ,EACRC,OAAQ,MAAA,EACL3B,CAGHL,CAAAA,EAAAA,CAAAA,CAGJ,CChDmB,SAAbiC,EASAlC,GAAA,IARLE,IAAAA,KACAC,IAAAA,GACAgC,IAAAA,MACAC,IAAAA,OACA7B,IAAAA,UACAC,IAAAA,MACA6B,IAAAA,UACAC,IAAAA,QAEM5B,EAAWC,aAAWC,CAAAA,EAgB5B,OAfAG,EAAAA,UAAU,WACT,IAAIwB,EAAQ,IAAIC,EACZC,EAAc/B,EAASgC,cACvBC,EAAWJ,EAAMK,SAAS1C,EAAOC,EAAIgC,CAAAA,EAEzCQ,EAASE,UAAUT,CAAQU,EAAAA,aAAavC,CAAWwC,EAAAA,SAASvC,CAExD8B,EAAU,EAAVA,EACHK,EAASK,KAAKX,EAAWC,CAEzBK,EAAAA,EAASK,KAAK,EAAGP,CAElB/B,EAAAA,EAASuC,QAAQ,QAASN,CAC3B,CAAA,EAAG,CAACN,EAAWC,EAERhB,EAAAA,EAAKC,cAAAD,EAAA4B,SAAA,IAAA,CACb,CCjCqBC,itEAEfC,GADkBC,EAAT,KAAA,IAARA,EAAuB,GACbA,GAAID,SAEa,aAAbE,OAAAA,WAEfC,EAAOD,SAASC,MAAQD,SAASE,qBAAqB,MAAA,EAAQ,IAC9DlD,EAAQgD,SAAS/B,cAAc,OACnCjB,GAAMmD,KAAO,WAEI,QAAbL,GACEG,EAAKG,WACPH,EAAKI,aAAarD,EAAOiD,EAAKG,UAKhCH,EAAAA,EAAKK,YAAYtD,CAAAA,EAGfA,EAAMuD,WACRvD,EAAMuD,WAAWC,QAAUX,EAE3B7C,EAAMsD,YAAYN,SAASS,eAAeZ,CAnBY,CAAA,GAJ1D,IAAqBA,EAMfI,EACAjD,ECLyB0D,ECCLA,ECDpBpD,EAAkBqD,EAAaA,cAAC,ILGhClE,EIFemE,GJqDrBnE,EAAMoE,aAAe,CACpBjE,KAAM,YACNC,GAAI,EACJC,MAAO,CACNuB,MAAO,KACPC,OAAQ,GAETvB,EAAAA,UAAW,GACXC,MAAO,GACPC,UAAW,EACXC,MAAO,EACPP,SAAUqB,EAAOC,cAAA,MAAA,IAAA,EACjBd,UAAW,UAAA,EAGZV,EAAMqE,UAAY,CACjBlE,KAAMmE,EAAUC,OAChBnE,GAAIkE,EAAUE,UAAU,CAACF,EAAUC,OAAQD,EAAUG,OAAAA,EACrDpE,MAAOiE,EAAUI,OACjBpE,UAAWgE,EAAUI,OACrBnE,MAAO+D,EAAUI,OACjBC,WAAYL,EAAUI,OACtBlE,UAAW8D,EAAUG,OACrBhE,MAAO6D,EAAUG,QAAUH,EAAUC,OACrCrE,SAAUoE,EAAUM,IACpBlE,UAAW4D,EAAUM,GAAAA,EI9EIC,EAAAV,EAASW,CAATC,EAAAd,EAAAe,EAAAb,CAAAA,EAKxBc,EAAAd,EAAA,CAAA,CAAAe,IAAA,eAAAC,MACD,WACC,OAAOC,KAAKC,SACb,CAAC,EAAA,CAAAH,IAAA,YAAAC,MACD,WACC,OAAOC,KAAKC,UAAUC,IAAI,EAAG,QAAA,CAC9B,CAAC,EAAA,CAAAJ,IAAA,YAAAC,MACD,SAAU9C,GAET,OADA+C,KAAKC,UAAUjE,IAAI,EAAG,SAAUiB,CACzB+C,EAAAA,IACR,CAAC,EAAA,CAAAF,IAAA,eAAAC,MACD,SAAa3E,GAEZ,OADA4E,KAAKC,UAAUtC,aAAavC,CAAAA,EACrB4E,IACR,CAAA,EAAC,CAAAF,IAAA,OAAAC,MACD,SAAKI,EAAUC,GACd,IAAMH,EAAYD,KAAKC,UAIvB,OAHAA,EAAUjE,IAAI,EAAG,OAAQmE,CACzBF,EAAAA,EAAUjE,IAAI,OAAQ,OAAQoE,CAAAA,EAC9BH,EAAUI,YAAYD,EAASD,CAAAA,EACxBH,IACR,CAAA,EAAC,CAAAF,IAAA,aAAAC,MACD,SAAWO,GAEV,OADAN,KAAKC,UAAUM,WAAWD,CACnBN,EAAAA,IACR,CAAC,EAAA,CAAAF,IAAA,kBAAAC,MACD,WACC,OAAOC,KAAKC,UAAUO,YAAc,EAAA,EACrC,CAAC,EAAA,CAAAV,IAAA,UAAAC,MACD,WACC,IAAME,EAAYD,KAAKC,UACjBpC,EAAO,CAACoC,EAAUC,IAAI,EAAG,MAAA,EAASD,EAAUC,IAAI,OAAQ,MAAA,GACxD9E,EAAY6E,EAAUQ,aACtBxD,EAAAA,EAAS+C,KAAKU,UAAAA,EACdrF,EAAQ2E,KAAKW,SAQnB,EAAA,MAPa,CACZC,IAAKZ,KAAKY,IACV/C,KAAAA,EACAzC,UAAAA,EACAC,MAAAA,EACA4B,OAAAA,CAAAA,CAGF,CAAC,EAAA,CAAA6C,IAAA,OAAAC,MACD,SAAKa,GAAK,IAiBDC,EAjBCC,EAAAd,KACHC,EAAYD,KAAKnE,QAAQ,OAAA,EAqB3BkF,GApBJd,EAAUe,SAAS,CAAA,EACnBf,EAAUe,SAAS,CACnBf,EAAAA,EAAUjE,IAAI,EAAG,SAAU,CAAA,EAC3BiE,EAAUjE,IAAI,EAAG,OAAQ,CACzBiE,EAAAA,EAAUjE,IAAI,OAAQ,OAAQ,CAAA,EAC9BgE,KAAKC,UAAYA,EACbgB,EAAAA,SAASL,CAAAA,IACN5D,EAAQ,IAAIkE,OACZC,IAAMP,EACZZ,KAAKO,WAAWvD,CAChBgD,EAAAA,KAAKY,IAAMA,IAEPA,EAAIO,IACPnB,KAAKY,IAAMA,EAAIO,KAETN,EAAgBD,EAAIQ,cAAc,OACxCpB,EAAAA,KAAKY,IAAMC,EAAgBA,EAAcM,IAAM,IAEhDnB,KAAKO,WAAWK,CACjB,GACe,GACfZ,KAAKqB,GAAG,SAAU,SAACC,GAClB,IAAIC,EACJT,EAAKU,YAAc,CAAA,EACe,OAAjCD,EAAKT,EAAKW,gBAAAA,IAERF,EAAGG,MAAAA,CAEP1B,CAAAA,EAAAA,KAAKqB,GAAG,UAAA,SAAYC,GACnB,IAAMK,EAAeb,EAAKW,gBAAAA,EAEpBG,GADND,EAAaE,MAAAA,CAAAA,EACAP,EAAEM,MACTE,EAA0BF,EAAXb,EACfgB,EAAoC,YAAxBjB,EAAKkB,aAAAA,EACjBC,EAAsD,CAAA,EAA1CnB,EAAKoB,aAAeC,EAAAA,QAAQ,SAAc,EACtDX,EAAcV,EAAKU,YACnBY,EAAQd,EAAEe,OAAOjF,MACjBhC,EAAY6E,EAAUQ,aAAAA,EACtB6B,EAAWxB,EAAKvD,YAChBN,EAAAA,EAAS6D,EAAKJ,UAAAA,EACd7C,EAAOuE,EAAMlC,IAAI,MAMvB,EALAa,EAAWa,EACNG,GAAcP,IAClBG,EAAaY,aAAenH,GAAa6G,EAAAA,CAAa,EAAI,GAC1DN,EAAaa,YAAc3E,GAExBiE,GAAgBF,GAAQ,GAAKU,GAAYV,EAExCG,IACHjB,EAAKU,YAAc,CAAA,EACnBG,EAAaD,MAAAA,IAGdC,EAAa1E,OAASA,EAAAA,CACjBuE,GAAeO,IACnBjB,EAAKU,YAAc,CAAA,GACbiB,EAASd,EAAae,KAAAA,aACNC,UACrBF,EAAMG,MAAA,WACLjB,EAAaE,MAAQ,CAAA,EACrBF,EAAae,KAAAA,CAGhB,CAAA,EAGH,CAAA,CAAA,CAAA,EAAA,EAAC3D,GDtHmB1B,GAAUoC,EAAApC,EAASqC,CAAT,EAAAb,EAAAe,EAAAvC,CAC9B,EAIAwC,EAAAxC,EAAA,CAAA,CAAAyC,IAAA,WAAAC,MAKA,SAAS/E,GAAc,IAChBoC,EAAQ,IAAI2B,yDADA/D,CAGlB,EAAA,OADAgF,KAAKlC,QAAQ9C,EAAIoC,CAAAA,EACVA,CACR,CAAA,EAAC,CAAA0C,IAAA,UAAAC,MACD,WACC,IAAM8C,EAAO,CACZP,SAAU,EACVQ,OAAQ,EAMT,EAAA,OAJA9C,KAAK+C,QAAAA,SAAS3F,GACbyF,EAAKC,OAAOE,KAAK5F,EAAM6F,QACxB,CAAA,CAAA,CAAA,EACAJ,EAAKP,SAAWtC,KAAKzC,YAAAA,EACdsF,CACR,CAAA,EAAA,EAACxF,GAxBD,SAAcA,IAAA,IAAA6F,EAEO,OAFPC,EAAAnD,KAAA3C,CACb6F,GAAAA,EAAArE,EAAAuE,KAAApD,IACKqD,GAAAA,UAAY,GAAGH,CACrB,CCFA,SAAAnE,EAAY6B,GAAK,IAAAsC,EAGD,OAHCC,EAAAnD,KAAAjB,CAChBmE,GAAAA,EAAArE,EAAAuE,KAAApD,IACKwB,GAAAA,YAAAA,CAAAA,EACL0B,EAAKI,KAAK1C,CAAAA,EAAKsC,CAChB,CH2BDnG,EAAWiC,aAAe,CACzBjE,KAAM,QACNC,GAAI,EACJgC,MACC,+FACDC,OAAQ,EACR7B,UAAW,EACXC,MAAO,EACP6B,UAAW,EACXC,QAAS,CAAA,EAGVJ,EAAWkC,UAAY,CACtBlE,KAAMmE,EAAUC,OAChBnE,GAAIkE,EAAUG,OACdpC,OAAQiC,EAAUG,OAClBrC,MAAOkC,EAAUC,OACjB/D,UAAW8D,EAAUG,OACrBhE,MAAO6D,EAAUG,QAAUH,EAAUC,OACrCjC,UAAWgC,EAAUG,OACrBlC,QAAS+B,EAAUG,MAAAA,EKlDD,SAAbkE,EAUA1I,GATLE,IAAAA,IAAAA,KACAC,IAAAA,GAEAwI,KADAvI,QACAuI,KACAtI,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UAEMC,EAAWC,aAAWC,CAAAA,EACtBC,EAAWX,EAAKY,WAAW,IAAK,GAAOX,EAAAA,EAmB7C,OAjBAY,EAAAA,qBACiBL,EAASM,QAAO,eAAAC,OAAgBJ,CAAAA,EAAY,CAC3DK,SAAAA,CAAAA,EACAV,MAAOA,EACPD,UAAWA,CAEJY,CAAAA,EAAAA,IAAGC,EAAAA,EAAA,GACPf,CAAS,EAAA,GAAA,CACZgB,QAAS,CACRuH,OAAQ,cACRpI,MAAOA,EACPC,UAAWA,EACXF,UAAWA,CAAAA,CAAAA,CAAAA,CAAAA,CAGX,EAAA,CAACL,EAAMG,EAAWI,EAGpBa,EAAAA,EAAAC,cAAA,MAAA,CACCC,cAAA,cAAAP,OAA2BJ,CAC3BY,EAAAA,UAAS,cAAAR,OAAgBJ,CACzBP,EAAAA,aACIA,CAAK,EAAA,GAAA,CACRuI,gBAAiB,OAASF,EAAM,IAChCG,iBAAkB,WAAA,CAAA,CAAA,CAAA,CAItB,CCxCuB,SAAjBC,EAYA/I,GAAA,IAXLE,IAAAA,KACAC,IAAAA,GACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UACAuI,IAAAA,WACAC,IAAAA,MACAC,IAAAA,MAEMxI,EAAWC,aAAWC,CAAAA,EACtBC,EAAWX,EAAKY,WAAW,IAAK,GAAOX,EAAAA,EACtCgJ,GAAWC,EAAgCC,EAAZC,EAAQA,SAAC,EAAG,EAAA,CAAA,GAAhC,GAAEC,EAAcH,EAAA,GAmB5BI,GAjBNzI,EAAAA,UAAAA,WACiBL,EAASM,QAAO,UAAAC,OAAWJ,CAAY,EAAA,CACtDK,SAAU,CAAA,EACVV,MAAOA,EACPD,UAAWA,CAAAA,CAAAA,EAEJY,IAAGC,EAAAA,EAAA,GACPf,CAAAA,EAAS,GAAA,CACZgB,QAAS,CACRb,MAAOA,EACPC,UAAWA,EACXF,UAAWA,CAGbgJ,CAAAA,CAAAA,CAAAA,EAAAA,EAAeC,EAAeR,CAAAA,CAAAA,CAC5B,EAAA,CAAC9I,EAAMG,EAAWI,EAErB,EAAuB,SAACkI,GAGvB,IAFA,IAAIc,EAAY,GAEPC,EAAI,EAAGA,EAAIT,EAAOS,CAAAA,GAC1B,IAAK,IAAIC,EAAI,EAAGA,EAAIT,EAAOS,CAAK,GAAA,CAC/B,IAAIhI,EAAUvB,EAAMuB,MAAQsH,EAAS,IAAO7I,EAAMuB,MAAQ,IACzDC,EAAWxB,EAAMwB,OAASsH,EAAS,IAAO9I,EAAMwB,OAAS,IACzDG,EAAQ3B,EAAMwB,OAASsH,EAASS,EAAI,IAAOvJ,EAAMwB,OAAS,IAC1DC,EAASzB,EAAMuB,MAAQsH,EAASS,EAAI,IAAOtJ,EAAMuB,MAAQ,IACzDiI,EAAYxJ,CAAAA,EAAMuB,MAAQsH,EAASS,EAAK,KACxCG,EAAYzJ,CAAAA,EAAMwB,OAASsH,EAASS,EAAK,KAEpCG,EAAQC,EAAAA,GAASjJ,EAAAA,WAAW,IAAK,EAAA,EACvC2I,EAAUtB,KACT7G,EAAAC,cAACmH,EAAU,CACVzD,IAAK6E,EACLnB,IAAKA,EACLzI,KAAM,aAAeW,EAAW6I,EAAIC,EACpCnJ,MAAOA,EAAQkJ,EACfvJ,GAAIuJ,EAAIC,EACRtJ,UAAW,CACV2J,EAAG,CACFC,UAAS,qBAAA,EAEVC,GAAK,CACJD,UAAS,iBAAA,CAAA,EAGXxJ,UAAW,EACXH,MAAO,CACNyB,IAAKA,EACLF,KAAMA,EACNF,MAAOA,EACPC,OAAQA,EACRF,SAAU,WACVyI,mBAAoBP,EAAS,IAAMC,EACnCO,eAAgBhK,EAAMuB,MAAQ,IAAA,EAE/BvB,MAAO,CAAEuB,MAAOA,EAAOC,OAAQA,CAAAA,CAAAA,CAAAA,CAAAA,CAGlC,CAGD,OAAO6H,IAGR,OACCnI,EAAAC,cAAA,MAAA,CACCC,cAAA,SAAAP,OAAsBJ,CACtBY,EAAAA,UAAS,SAAAR,OAAWJ,CACpBV,EAAAA,GAAE,SAAAc,OAAWJ,CACbP,EAAAA,MAAKc,EAAA,CACJM,SAAU,WACVC,MAAOvB,EAAMuB,MACbC,OAAQxB,EAAMwB,OACdC,KAAM,EACNC,MAAO,EACPC,IAAK,EACLC,OAAQ,EACRC,OAAQ,MACL3B,EAAAA,CAAAA,CAAAA,EAGH6I,CAGJ,CAAA,CCpGsB,SAAhBkB,EAeArK,GAAA,IAdLE,IAAAA,KACAC,IAAAA,GACAC,IAAAA,MACAC,IAAAA,UACAiK,IAAAA,eACAC,IAAAA,cACAjK,IAAAA,MACAkK,IAAAA,eACAC,IAAAA,KACAlK,IAAAA,UACAC,IAAAA,MACAkK,IAAAA,WACAjK,IAAAA,UACAuI,IAAAA,WAEMtI,EAAWC,aAAWC,CAAAA,EACtBC,EAAWX,EAAKY,WAAW,IAAK,GAAOX,EAAAA,EACtCgJ,GAAWC,EAAgCC,EAAZC,EAAQA,SAAC,EAAG,EAAA,CAAA,GAAhC,GAAEC,EAAcH,EAAA,GAqB5BI,GAjBNzI,EAAAA,UAAAA,WACiBL,EAASM,QAAO,UAAAC,OAAWJ,CAAAA,EAAY,CACtDK,SAAAA,CAAAA,EACAV,MAAOA,EACPD,UAAWA,CAEJY,CAAAA,EAAAA,IAAGC,EAAAA,EAAA,GACPf,CAAS,EAAA,GAAA,CACZgB,QAAS,CACRb,MAAOA,EACPC,UAAWA,EACXF,UAAWA,CAAAA,CAAAA,CAAAA,CAAAA,EAGbgJ,EAAeC,EAAeR,CAC9B,CAAA,CAAA,EAAE,CAAC9I,EAAMG,EAAWI,EAAAA,EAEE,SAACkI,GAQvB,IAPA,IAAIc,EAAY,GAEZkB,EAAW,EACXC,EAAY,EACZC,EAAa,EACbC,EAAc,EAETpB,EAAI,EAAGA,EA5BH,EA4BcA,CAC1B,GAAA,IAAK,IAAIC,EAAI,EAAGA,EA5BJ,EA4BeA,CAAAA,GAAK,CAC/B,IAAIhI,EAAUvB,EAAMuB,MA9BT,EA8B0B,IAAOvB,EAAMuB,MAAQ,IACzDC,EAAWxB,EAAMwB,OA9BP,EA8ByB,IAAOxB,EAAMwB,OAAS,IACzDG,EAAQ3B,EAAMwB,OA/BJ,EA+BsB+H,EAAI,IAAOvJ,EAAMwB,OAAS,IAC1DC,EAASzB,EAAMuB,MAjCL,EAiCsB+H,EAAI,IAAOtJ,EAAMuB,MAAQ,IACzDiI,EAAAA,CAAYxJ,EAAMuB,MAlCR,EAkCyB+H,EAAK,KACxCG,EAAAA,CAAYzJ,EAAMwB,OAlCR,EAkC0B+H,EAAK,KAEpCG,EAAQC,EAAAA,GAAAA,EAASjJ,WAAW,IAAK,EAEnCiK,EAAAA,EACI,IAANrB,GAAiB,IAANC,GAAmB,IAAND,GAAiB,IAANC,EACjC,CACAqB,EAAG,CACFC,QAAS,CAGV,CAAA,EAAA,GAEM,IAANvB,GAAiB,IAANC,IACdgB,EAAW5I,EACX6I,EAAY/I,EACZiJ,EAAclJ,GAEL,IAAN8H,GAAiB,IAANC,IACdkB,EAA+B,EAAlBK,SAASvJ,CAAa,EAAA,KAEpC8H,EAAUtB,KACT7G,EAAAC,cAACmH,EAAU,CACVzD,IAAK6E,EACLnB,IAAKA,EACLzI,KAAM,aAAeW,EAAW6I,EAAIC,EACpCnJ,MAAOkK,EACPvK,GAAIuJ,EAAIC,EACRtJ,UAAgBiK,EAAAA,EAAAA,GAAAA,CAAmBS,EAAAA,CAAAA,EACnCtK,UAAW,EACXH,MAAO,CACNyB,IAAKA,EACLF,KAAMA,EACNF,MAAOA,EACPC,OAAQA,EACRF,SAAU,WACVyI,mBAAoBP,EAAS,IAAMC,EACnCO,eAAc,eAAA,EAEfhK,MAAO,CAAEuB,MAAOA,EAAOC,OAAQA,CAAAA,CAAAA,CAAAA,CAAAA,CAGlC,CAGD,IAAMuJ,EAAapB,EAAAA,GAASjJ,EAAAA,WAAW,IAAK,EAAA,EAoC5C,OAnCA2I,EAAUtB,KACT7G,EAAAC,cAACxB,EAAK,CACLkF,IAAKkG,EACL/K,MAAOA,EACPD,GAAIgL,EACJjL,KAAqB,eACrBM,MAAoB,EAAbkK,EACPpK,MAAO,CACN2B,OAAQ,EACRF,IAAK4I,EACL9I,KAAM+I,EACNjJ,MAAOkJ,EACPjJ,OAAQkJ,EACRpJ,SAAU,WACVuI,UAAS,YAEV5J,EAAAA,UAAWkK,EACX9J,UAAW,CAEXa,EAAAA,EAAAC,cAAA,MAAA,CACCjB,MAAKc,EAAA,CACJgK,SAAU,GACVC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZ3J,OAAQ,OACRD,MAAO,MAAA,EACJ6I,CAGHC,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAKGhB,IAGR,OACCnI,EAAAC,cAAA,MAAA,CACCC,cAAA,SAAAP,OAAsBJ,GACtBY,UAAS,SAAAR,OAAWJ,CAAAA,EACpBV,GAAE,SAAAc,OAAWJ,CAAAA,EACbP,MAAKc,EAAA,CACJM,SAAU,WACVC,MAAOvB,EAAMuB,MACbC,OAAQxB,EAAMwB,OACdC,KAAM,EACNC,MAAO,EACPC,IAAK,EACLC,OAAQ,EACRC,OAAQ,MACL3B,EAAAA,CAAAA,CAAAA,EAGH6I,CAGJ,CAAA,CC9JqB,SAAfqC,EAeAxL,GAAA,IAdLE,IAAAA,KACAC,IAAAA,GACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAkK,IAAAA,eACAC,IAAAA,KACAlK,IAAAA,UACAC,IAAAA,MACAiL,IAAAA,WACAhL,IAAAA,UACAuI,IAAAA,WACAC,IAAAA,MACAC,IAAAA,MAEMxI,EAAWC,aAAWC,CACtBC,EAAAA,EAAWX,EAAKY,WAAW,IAAK,GAAA,EAAOX,EACtCgJ,GAAWC,EAAgCC,EAAZC,EAAQA,SAAC,EAAA,EAAG,IAAhC,GAAEC,EAAcH,EAAA,GAmB5BI,GAjBNzI,EAAAA,UAAAA,WACiBL,EAASM,QAAO,UAAAC,OAAWJ,CAAAA,EAAY,CACtDK,SAAAA,CAAAA,EACAV,MAAOA,EACPD,UAAWA,CAEJY,CAAAA,EAAAA,IAAGC,EAAAA,EAAA,GACPf,CAAS,EAAA,GAAA,CACZgB,QAAS,CACRb,MAAOA,EACPC,UAAWA,EACXF,UAAWA,CAAAA,CAAAA,CAAAA,CAAAA,EAGbgJ,EAAeC,EAAeR,CAC9B,CAAA,CAAA,EAAE,CAAC9I,EAAMG,EAAWI,EAAAA,EAEE,SAACkI,GAOvB,IANA,IAAIc,EAAY,GACZkB,EAAW,EACXC,EAAY,EACZC,EAAa,EACbC,EAAc,EAETpB,EAAI,EAAGA,EAAIT,EAAOS,CAAAA,GAE1B,IADA,IAAIgC,EAAYhC,EAAI,GAAM,EAAI,GAAK,IAC1BC,EAAI,EAAGA,EAAIT,EAAOS,CAAK,GAAA,CAC/B,IAAIhI,EAAUvB,EAAMuB,MAAQsH,EAASyC,EAAatL,EAAMuB,MAAQ,IAC/DC,EAAWxB,EAAMwB,OAASsH,EAAS,GAAM9I,EAAMwB,OAAS,IACxDG,EAAQ3B,EAAMwB,OAASsH,EAASS,EAAI,IAAOvJ,EAAMwB,OAAS,IAC1DC,EAASzB,EAAMuB,MAAQsH,EAASS,EAAI,IAAOtJ,EAAMuB,MAAQ,IACzDiI,EAAAA,CAAYxJ,EAAMuB,MAAQsH,EAASS,EAAK,KACxCG,EAAAA,CAAYzJ,EAAMwB,OAASsH,EAASS,EAAK,KAEpCG,EAAQC,EAAAA,GAASjJ,EAAAA,WAAW,IAAK,EAAA,EAIvC2I,EAAUtB,KACT7G,EAAAC,cAACmH,EAAU,CACVzD,IAAK6E,EACLnB,IAAKA,EACLzI,KAAM,aAAeW,EAAW6I,EAAIC,EACpCnJ,MAAOA,EAAQmJ,EACfxJ,GAAIuJ,EAAIC,EACRtJ,UAAW,CACV2J,EAAG,CACFiB,QAAS,EACThB,8BAZYN,EAAI,GAAM,EAAI,OAAS,QAYF,MAAA,CAAA,EAElCqB,EAAG,CACFC,QAAS,EACThB,UAAS,iBAAA,EAEV0B,EAAG,CACFV,QAAS,CAAA,EAEVW,IAAK,CACJX,QAAS,CAAA,CAAA,EAGXxK,UAAW,EACXH,MAAO,CACNyB,IAAKA,EACLF,KAAMA,EACNF,MAAOA,EACPC,OAAQA,EACRF,SAAU,WACVyI,mBAAoBP,EAAS,IAAMC,EACnCO,eAAgBhK,EAAMuB,MAAQ,IAE/BvB,EAAAA,MAAO,CAAEuB,MAAOA,EAAOC,OAAQA,CAI7BsH,CAAAA,CAAAA,CAAAA,EAAAA,EAAQ,IAAMS,IACjBgB,EAAW5I,EACX6I,EAAY/I,EACZgJ,EAAalJ,EACbmJ,EAAclJ,EAEhB,CAGD,IAAMuJ,EAAapB,EAAAA,GAASjJ,EAAAA,WAAW,IAAK,EAAA,EAoD5C,OAnDA2I,EAAUtB,KACT7G,EAAAC,cAACxB,EAAK,CACLkF,IAAKkG,EACL/K,MAAOA,EACPD,GAAIgL,EACJjL,KAAsB,gBACtBM,MAAOA,EAAQiL,EACfnL,MAAO,CACN2B,OAAQ,EACRF,IAAK4I,EACL9I,KAAM+I,EACNjJ,MAAOkJ,EACPjJ,OAAQkJ,EACRpJ,SAAU,WACVmK,gBAAiB,MAElBxL,EAAAA,UAAW,CACV2J,EAAG,CACFiB,QAAS,EACThB,UAAW,oBAEZ,EAAA6B,EAAG,CACFb,QAAS,EACThB,UAAW,iBAEZ,EAAA8B,IAAK,CACJd,QAAS,CAEV,EAAAe,EAAG,CACFf,QAAS,CAGXxK,CAAAA,EAAAA,UAAW,CAEXa,EAAAA,EAAAC,cAAA,MAAA,CACCjB,MAAKc,EAAA,CACJ6K,MAAO,OACPb,SAAU,GACVC,QAAS,OACTC,eAAgB,SAChBC,WAAY,SACZ3J,OAAQ,OACRD,MAAO,MAAA,EACJ6I,CAGHC,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,EAKGhB,IAGR,OACCnI,EAAAC,cAAA,MAAA,CACCC,cAAA,SAAAP,OAAsBJ,GACtBY,UAAS,SAAAR,OAAWJ,CAAAA,EACpBV,GAAE,SAAAc,OAAWJ,CAAAA,EACbP,MAAKc,EAAA,CACJM,SAAU,WACVC,MAAOvB,EAAMuB,MACbC,OAAQxB,EAAMwB,OACdC,KAAM,EACNC,MAAO,EACPC,IAAK,EACLC,OAAQ,EACRC,OAAQ,MAEL3B,EAAAA,CAAAA,CAAAA,EAGH6I,CAGJ,CAAA,CCtL0B,SAApB+C,EAYAlM,GAXLE,IAAAA,IAAAA,KACAC,IAAAA,GACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UACAuI,IAAAA,WAEAC,KADAkD,aACAlD,OAEMvI,EAAWC,aAAWC,CAAAA,EACtBC,EAAWX,EAAKY,WAAW,IAAK,GAAOX,EAAAA,EACtCgJ,GAAWC,EAAgCC,EAAZC,EAAQA,SAAC,EAAG,EAAA,CAAA,GAAhC,GAAEC,EAAcH,EAAA,GAmB5BI,GAjBNzI,EAAAA,UAAAA,WACiBL,EAASM,QAAO,UAAAC,OAAWJ,CAAAA,EAAY,CACtDK,SAAAA,CAAAA,EACAV,MAAOA,EACPD,UAAWA,CAAAA,CAAAA,EAEJY,IAAGC,EAAAA,EAAA,GACPf,CAAAA,EAAS,GAAA,CACZgB,QAAS,CACRb,MAAOA,EACPC,UAAWA,EACXF,UAAWA,CAGbgJ,CAAAA,CAAAA,CAAAA,EAAAA,EAAeC,EAAeR,CAAAA,CAAAA,CAC5B,EAAA,CAAC9I,EAAMG,EAAWI,EAErB,EAAuB,SAACkI,GAGvB,IAFA,IAAIc,EAAY,GAEPC,EAAI,EAAGA,EAAIT,EAAOS,CAAAA,GAAK,CAC/B,IAAI/H,EAAUvB,EAAMuB,MAAQsH,EAAS,IAAO7I,EAAMuB,MAAQ,IACzDE,EAASzB,EAAMuB,MAAQsH,EAASS,EAAI,IAAOtJ,EAAMuB,MAAQ,IACzDiI,EAAAA,CAAYxJ,EAAMuB,MAAQsH,EAASS,EAAK,KAEzCD,EAAUtB,KACT7G,EAAAC,cAACmH,EAAU,CACVzD,IAAKyE,EACLf,IAAKA,EACLzI,KAAM,aAAeW,EAAW6I,EAChClJ,MAAOA,EAAQkJ,EACfvJ,GAAIuJ,EACJrJ,UAAW,CACV2J,EAAG,CACFiB,QAAS,EACThB,UAAS,qBAAA,EAEVC,GAAK,CACJe,QAAS,EACThB,UAAS,iBAAA,CAAA,EAGXxJ,UAAW,EACXH,MAAO,CACNyB,IAAK,EACLF,KAAMA,EACNF,MAAOA,EACPC,OAAQxB,EAAMwB,OACdF,SAAU,WACV0K,OAAQ1C,EACRS,mBAAoBP,EACpBQ,KAAAA,eAAgBhK,EAAMuB,MAAQ,IAE/BvB,EAAAA,MAAOA,CAGV,CAAA,CAAA,CAAA,CAEA,OAAOqJ,IAGR,OACCnI,EAAAC,cAAA,MAAA,CACCC,cAAA,SAAAP,OAAsBJ,CACtBY,EAAAA,UAAS,SAAAR,OAAWJ,CACpBV,EAAAA,GAAE,SAAAc,OAAWJ,CACbP,EAAAA,MAAKc,EAAA,CACJM,SAAU,WACVC,MAAOvB,EAAMuB,MACbC,OAAQxB,EAAMwB,OACdC,KAAM,EACNC,MAAO,EACPC,IAAK,EACLC,OAAQ,EACRC,OAAQ,MAAA,EACL3B,CAGH6I,CAAAA,EAAAA,CAAAA,CAGJ,CCnGkB,SAAZkD,EAYArM,GAAA,IAXLyK,IAAAA,KACAvK,IAAAA,KACAC,IAAAA,GACAC,IAAAA,MACAC,IAAAA,UACAC,IAAAA,MACAkK,IAAAA,eACAjK,IAAAA,UACAC,IAAAA,MACAC,IAAAA,UACA6L,IAAAA,UAEM5L,EAAWC,aAAWC,CACtBC,EAAAA,EAAWX,EAAKY,WAAW,IAAK,GAAA,EAAOX,EAkB7C,OAhBAY,EAAAA,UAAAA,WACiBL,EAASM,QAAO,UAAAC,OAAWJ,CAAAA,EAAY,CACtDK,SAAAA,CAAAA,EACAV,MAAOA,EACPD,UAAWA,CAEJY,CAAAA,EAAAA,IAAGC,EAAAA,EAAA,GACPf,CAAS,EAAA,GAAA,CACZgB,QAAS,CACRb,MAAOA,EACPC,UAAWA,EACXF,UAAWA,CAAAA,CAAAA,CAAAA,CAAAA,CAGX,EAAA,CAACL,EAAMG,EAAWI,EAAAA,EAGpBa,EAAAC,cAAA,MAAA,CACCC,cAAA,SAAAP,OAAsBJ,CAAAA,EACtBY,UAAS,SAAAR,OAAWJ,CAAAA,EACpBP,MAAKc,EAAA,CACJM,SAAU,WACVC,MAAOvB,EAAMuB,MACbC,OAAQxB,EAAMwB,OACdC,KAAM,EACNC,MAAO,EACPC,IAAK,EACLC,OAAQ,EACRC,OAAQ,OACRsK,cAAe,OACfC,OAAQ,SACLlM,EAAAA,CAAAA,CAAAA,EAGJgB,EAAAC,cAAA,MAAA,CACCjB,MAAKc,EAAA,CACJgK,SAAU,GACV1J,SAAU,UACP8I,EAAAA,CAAAA,CAAAA,EAGJlJ,EAAAC,cAAA,MAAA,CAAKjB,MAAO,CAAE2L,MAAOK,CAAAA,CAAAA,EAAc7B,CAIvC,CAAA,CAAA,CAAA,CLjBA/B,EAAWvE,aAAe,CACzBjE,KAAM,iBACNC,GAAI,EACJC,MAAO,CACNuB,MAAO,KACPC,OAAQ,GAET+G,EAAAA,IAAK,yHACLtI,UAAW,GACXC,MAAO,GACPC,UAAW,EACXC,MAAO,EACPC,UAAW,UAGZiI,EAAAA,EAAWtE,UAAY,CACtBlE,KAAMmE,EAAUC,OAChBnE,GAAIkE,EAAUE,UAAU,CAACF,EAAUC,OAAQD,EAAUG,OACrDpE,EAAAA,MAAOiE,EAAUI,OACjBkE,IAAKtE,EAAUC,OACfjE,UAAWgE,EAAUI,OACrBnE,MAAO+D,EAAUI,OACjBC,WAAYL,EAAUI,OACtBlE,UAAW8D,EAAUG,OACrBhE,MAAO6D,EAAUG,QAAUH,EAAUC,OACrC7D,UAAW4D,EAAUM,GAAAA,ECoCtBoE,EAAe5E,aAAe,CAC7BjE,KAAM,iBACNC,GAAI,EACJC,MAAO,CACNuB,MAAO,KACPC,OAAQ,GAETvB,EAAAA,UAAW,GACXC,MAAO,GACPC,UAAW,EACXC,MAAO,EACPC,UAAW,WACXuI,WAAY,GACZC,MAAO,EACPC,MAAO,CAGRH,EAAAA,EAAe3E,UAAY,CAC1BlE,KAAMmE,EAAUC,OAChBnE,GAAIkE,EAAUE,UAAU,CAACF,EAAUC,OAAQD,EAAUG,SACrDpE,MAAOiE,EAAUI,OACjBpE,UAAWgE,EAAUI,OACrBnE,MAAO+D,EAAUI,OACjBC,WAAYL,EAAUI,OACtBlE,UAAW8D,EAAUG,OACrBhE,MAAO6D,EAAUG,QAAUH,EAAUC,OACrC7D,UAAW4D,EAAUM,IACrBqE,WAAY3E,EAAUC,OACtB2E,MAAO5E,EAAUG,OACjB0E,MAAO7E,EAAUG,MAAAA,EC6BlB6F,EAAclG,aAAe,CAC5BjE,KAAM,oBACNC,GAAI,EACJC,MAAO,CACNuB,MAAO,KACPC,OAAQ,GAETvB,EAAAA,UAAW,GACXiK,eAAgB,GAChBC,cAAe,GACfjK,MAAO,GACPkK,eAAgB,GAChBC,KAAM,oBACNlK,UAAW,EACXC,MAAO,EACPkK,WAAY,EACZjK,UAAW,WACXuI,WAAY,EAGbqB,EAAAA,EAAcjG,UAAY,CACzBlE,KAAMmE,EAAUC,OAChBnE,GAAIkE,EAAUE,UAAU,CAACF,EAAUC,OAAQD,EAAUG,OACrDpE,EAAAA,MAAOiE,EAAUI,OACjBpE,UAAWgE,EAAUI,OACrB6F,eAAgBjG,EAAUI,OAC1B8F,cAAelG,EAAUI,OACzBnE,MAAO+D,EAAUI,OACjB+F,eAAgBnG,EAAUI,OAC1BgG,KAAMpG,EAAUC,OAChB/D,UAAW8D,EAAUG,OACrBhE,MAAO6D,EAAUE,UAAU,CAACF,EAAUC,OAAQD,EAAUG,OACxDkG,EAAAA,WAAYrG,EAAUE,UAAU,CAACF,EAAUC,OAAQD,EAAUG,OAC7D/D,EAAAA,UAAW4D,EAAUM,IACrBqE,WAAY3E,EAAUC,MAAAA,ECZvBkH,EAAarH,aAAe,CAC3BjE,KAAM,mBACNC,GAAI,EACJC,MAAO,CACNuB,MAAO,KACPC,OAAQ,GAETvB,EAAAA,UAAW,GACXC,MAAO,GACPkK,eAAgB,GAChBC,KAAM,oBACNlK,UAAW,EACXC,MAAO,EACPiL,WAAY,EACZhL,UAAW,WACXuI,WAAY,GACZC,MAAO,EACPC,MAAO,CAGRsC,EAAAA,EAAapH,UAAY,CACxBlE,KAAMmE,EAAUC,OAChBnE,GAAIkE,EAAUG,OACdpE,MAAOiE,EAAUI,OACjBpE,UAAWgE,EAAUI,OACrBnE,MAAO+D,EAAUI,OACjB+F,eAAgBnG,EAAUI,OAC1BgG,KAAMpG,EAAUC,OAChBI,WAAYL,EAAUI,OACtBlE,UAAW8D,EAAUG,OACrBhE,MAAO6D,EAAUG,QAAUH,EAAUC,OACrCmH,WAAYpH,EAAUG,QAAUH,EAAUC,OAC1C7D,UAAW4D,EAAUM,IACrBqE,WAAY3E,EAAUC,OACtB2E,MAAO5E,EAAUG,OACjB0E,MAAO7E,EAAUG,MC3NlB,EAoGA0H,EAAkB/H,aAAe,CAChCjE,KAAM,wBACNC,GAAI,EACJC,MAAO,CACNuB,MAAO,KACPC,OAAQ,GAAA,EAETvB,UAAW,GACXC,MAAO,GACPC,UAAW,EACXC,MAAO,EACPC,UAAW,WACXuI,WAAY,GACZC,MAAO,CAGRiD,EAAAA,EAAkB9H,UAAY,CAC7BlE,KAAMmE,EAAUC,OAChBnE,GAAIkE,EAAUE,UAAU,CAACF,EAAUC,OAAQD,EAAUG,OACrDpE,EAAAA,MAAOiE,EAAUI,OACjBpE,UAAWgE,EAAUI,OACrBnE,MAAO+D,EAAUI,OACjBC,WAAYL,EAAUI,OACtBlE,UAAW8D,EAAUG,OACrBhE,MAAO6D,EAAUG,QAAUH,EAAUC,OACrC7D,UAAW4D,EAAUM,IACrBqE,WAAY3E,EAAUC,OACtB2E,MAAO5E,EAAUG,MAAAA,EEnIlB,SAASiI,IACR,IACCzM,EAAkB,aAAA,OAAX0M,OAAyBA,OAAS,GAC1C,MAAO,CACN/K,QAHOgL,WAIP/K,SAJ0BgL,WAAAA,CAM5B,CD2DAP,EAAUlI,aAAe,CACxBjE,KAAM,gBACNC,GAAI,EACJC,MAAO,CACNuB,MAAO,KACPC,OAAQ,GAAA,EAETvB,UAAW,GACXC,MAAO,GACPC,UAAW,EACXC,MAAO,EACPiK,KAAM,mBACNhK,UAAW,UAAA,EAGZ4L,EAAUjI,UAAY,CACrBlE,KAAMmE,EAAUC,OAChBnE,GAAIkE,EAAUE,UAAU,CAACF,EAAUC,OAAQD,EAAUG,OAAAA,EACrDpE,MAAOiE,EAAUI,OACjBpE,UAAWgE,EAAUI,OACrBnE,MAAO+D,EAAUI,OACjBC,WAAYL,EAAUI,OACtB+F,eAAgBnG,EAAUI,OAC1BlE,UAAW8D,EAAUG,OACrBhE,MAAO6D,EAAUG,QAAUH,EAAUC,OACrCmG,KAAMpG,EAAUC,OAChB7D,UAAW4D,EAAUM,IACrB2H,UAAWjI,EAAUC,MEjFtB,EAAA,IAAMuI,EAAkBC,EAAUA,WACjC,SAAA9M,EAeCqD,GACI,IDlBL0J,EACAC,EAEyBC,ECCvBhN,IAAAA,SACA0B,IAAAA,MACAC,IAAAA,OACAsL,IAAAA,SACAC,IAAAA,QACAC,IAAAA,UACAC,IAAAA,kBACAC,IAAAA,OACAC,IAAAA,iBACAC,IAAAA,iBACAC,IAAAA,mBACAC,IAAAA,YAIKhN,EAAWC,aAAWC,CAAAA,EACtB+M,EAAYC,SAAO,IAAA,EACwBxE,EAAAC,EAAfC,EAAQA,SAAAA,CAAAA,CAAO,EAAA,CAAA,EAA1CuE,EAASzE,EAAA,GAAE0E,EAAY1E,EAAA,GACa2E,EAAA1E,EAAXC,EAAQA,SAAC,CAAE,EAAA,CAAA,EAApC0E,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAiB5BG,GAfAC,EAAmBA,oBAAC9K,EAAK,WAAA,MAAO,CAC/BwE,KAAO,WACNnH,EAASmH,KAAAA,CACT,EACDhB,MAAQ,WACPnG,EAASmG,MACT,CAAA,EACDuH,OAAS,WACR1N,EAAS0N,OAAAA,CACT,EACD3G,SAAW,WACV,OAAO/G,EAASgC,YAAAA,CACjB,CACA,CAAA,CAAA,EDrCFqK,EC2CoCpL,ED1CpCqL,EC0C2CpL,EDtC1CwH,EAAAC,EAF+CC,WAC/CmD,EACA,CAAA,EAAA,CAAA,EAFM4B,EAAgBjF,EAAA,GAAE6D,EAAmB7D,EAAA,GAI5CrI,EAAAA,UAAU,WACT,SAASuN,IACR,IAAIC,EAAW,CACd3M,OAAQ6K,EAAsB7K,EAAAA,QAAU,GAAK,GAC7CD,MAAO8K,EAAAA,EAAsB9K,OAAS,GAAK,EAG5C4M,EAAAA,EAASC,MAAQC,KAAKC,IACrBH,EAAS5M,MAAQoL,EACjBwB,EAAS3M,OAASoL,CAEnBC,EAAAA,EAAoBsB,CACrB,CAAA,CAKA,OAHAD,EAAAA,EAEA5B,OAAOiC,iBAAiB,SAAUL,CAAAA,EAC3B,WAAA,OAAM5B,OAAOkC,oBAAoB,SAAUN,CAAAA,CAAa,CAC/D,EAAE,EAEID,EAAAA,GCaGQ,IAARjN,OACOkN,IAAPnN,MACA6M,IAAAA,MAwBD,OArBAzN,EAAAA,UAAAA,WACC,IAAI0G,EAAW/G,EAASgC,YACxB2K,EAAAA,EAAkB5F,CAElB/G,EAAAA,EAAS8F,GAAG,OAAA,SAASC,GACpBqH,EAAa,CAAA,CAAA,CAEdpN,CAAAA,EAAAA,EAAS8F,GAAG,SAAA,SAAWC,GACtBqH,EAAa,CAAA,CAAA,CAEdpN,CAAAA,EAAAA,EAAS8F,GAAG,UAAA,SAAYC,GACvBwH,EAAa,IAAMxH,EAAEM,KAAQU,CAC9B,CAAA,CAAA,EACI0F,GACHA,EAAQ,CACPA,QAASU,EACTG,SAAUA,CAGb,CAAA,CAAA,EAAG,CAACH,EAAWG,EAGd1M,EAAAA,EAAAC,cAAA,MAAA,CAAKpB,GAAG,iBAAA,EACPmB,EAAAC,cAAA,MAAA,CACCE,UAAW6L,EAAS,GAAK,SACzBnN,GAAG,iBACHkD,IAAKsK,CAAAA,EAELrM,EAAAC,cAAA,MAAA,CACCE,UAAU,cACVnB,MACUc,EAATgM,EAAS,CAENzL,MAAO,OACPC,OAAQ,MAAA,EACW,CAGnBD,MAAOmN,EACPlN,OAAQiN,CAJLtB,EAAAA,CAAAA,CAAAA,EASPjM,EAAAC,cAAA,MAAA,CACCpB,GAAG,cACHsB,UAAU,cACVnB,MACUc,EAATgM,EAAS,CAENzL,MAAOA,EACPC,OAAQA,CAAAA,EACW,CAGnBD,MAAOA,EACPC,OAAQA,EACRqI,UACCuE,+BAAAA,OAAAA,GAAgB,EAAC,GANfhB,CAAAA,EAAAA,CAAAA,CAAAA,EAYPlM,EAAAC,cAAA,MAAA,CACCE,UAAU,SACVnB,MAAO,CACNqB,MAAOA,EACPC,OAAQA,CAGR3B,CAAAA,EAAAA,CAAAA,CAAAA,CAAAA,CAAAA,EAKJiN,GACA5L,EAAAC,cAAA,MAAA,CACCE,UAAW6L,EAAS,sBAAwB,gBAC5ChN,MAAOmN,CAEPnM,EAAAA,EAAAC,cAAA,MAAA,CACCE,UAAU,SACVnB,MAAKc,EAAA,CACJO,MAAOmN,CAAAA,EACJpB,CAGJpM,CAAAA,EAAAA,EAAAC,cAAA,MAAA,CACCE,oBAAcoM,EAAY,QAAU,MACpCkB,EAAAA,QAAS,WACRrO,EAASsO,SAAatO,EAAAA,EAASmH,KAASnH,EAAAA,EAASmG,MAClD,CAAA,CAAA,CAAA,EAEDvF,EAAAC,cAAA,QAAA,CACCE,UAAU,WACVgC,KAAK,QACLwL,SAAU,SAACxI,GACV/F,EAASmG,QACTnG,EAASwO,QAAQzI,EAAE0I,OAAOjK,MAAQ,GAAA,CACjC,EACFA,MAAO8I,EAASoB,SAAAA,EAChBV,IAAI,IACJW,IAAI,KAAA,CAAA,CAAA,CAAA,CAAA,CAUNC,CAAAA,EAAAA,EAASxC,EAAUA,WAAAA,SACxByC,EAgBClM,GACI,IAfHpD,IAAAA,SACA0B,IAAAA,MACAC,IAAAA,OACA4N,IAAAA,QACAtC,IAAAA,SACAC,IAAAA,QACAC,IAAAA,UACAC,IAAAA,kBACAC,IAAAA,OACAC,IAAAA,iBACAC,IAAAA,iBACAC,IAAAA,mBACAC,IAAAA,YAID,OACCpM,EAAAC,cAACX,EAAgB6O,SAAQ,CACxBvK,MACC,IAAIL,EACH,GACA,CACC+D,OAAQ/D,EAAM6K,YACdC,eAAgB,EAChBzO,SAAAA,CAAAA,CAKHI,CAAAA,CAAAA,EAAAA,gBAACuL,EAAe,CACfxJ,IAAKA,EACLzB,OAAQA,EACRD,MAAOA,EACPuL,SAAUA,EACVC,QAASA,EACTqC,QAASA,EACTpC,UAAWA,EACXC,kBAAmBA,EACnBC,OAAQA,EACRC,iBAAkBA,EAClBC,iBAAkBA,EAClBC,mBAAoBA,EACpBC,YAAaA,CAEZzN,EAAAA,CAAAA,CAAAA,CAONqP,CAAAA,EAAAA,EAAOnL,aAAe,CACrBxC,MAAO,KACPC,OAAQ,KACR3B,SAAU,GACViN,SAAU,CAAA,EACVC,QAAS,aACTC,UAAAA,CAAAA,EACAC,kBAAmB,aACnBC,OAAAA,CAAAA,CAGDgC,EAAAA,EAAOlL,UAAY,CAClBzC,MAAO0C,EAAUG,OACjB5C,OAAQyC,EAAUG,OAClBvE,SAAUoE,EAAUM,IACpBuI,SAAU7I,EAAUuL,KACpBzC,QAAS9I,EAAUwL,KACnBzC,UAAW/I,EAAUuL,KACrBvC,kBAAmBhJ,EAAUwL,KAC7BvC,OAAQjJ,EAAUuL,KAClBrC,iBAAkBlJ,EAAUI,OAC5B+I,iBAAkBnJ,EAAUI,OAC5BgJ,mBAAoBpJ,EAAUI,OAC9BiJ,YAAarJ,EAAUI,MAAAA"}